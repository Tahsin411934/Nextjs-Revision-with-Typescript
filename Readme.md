
<details>
  <summary>Basic Routing</summary>
  
  ## Content Revealed
  
  
  


# ЁЯЪА **Next.js 14-ржП Nested Route (ржирзЗрж╕рзНржЯрзЗржб рж░рж╛ржЙржЯ) ржмрзНржпржмрж╣рж╛рж░рзЗрж░ ржмрж╛ржВрж▓рж╛ ржЯрж┐ржЙржЯрзЛрж░рж┐ржпрж╝рж╛рж▓ (TypeScript + TSX)**
Next.js-ржП **Nested Routes** ржорж╛ржирзЗ рж╣рж▓рзЛ **ржПржХржЯрж┐ рж░рж╛ржЙржЯрзЗрж░ ржнрж┐рждрж░рзЗ ржЕржирзНржп рж░рж╛ржЙржЯ рждрзИрж░рж┐ ржХрж░рж╛**ред  
ржПржЯрж┐ **ржбрзНржпрж╛рж╢ржмрзЛрж░рзНржб, ржмрзНрж▓ржЧ ржкрзЛрж╕рзНржЯ, ржкрзНрж░рзЛржлрж╛ржЗрж▓, ржЕрзНржпрж╛ржбржорж┐ржи ржкрзНржпрж╛ржирзЗрж▓ ржЗрждрзНржпрж╛ржжрж┐рж░ ржЬржирзНржп ржжрж░ржХрж╛рж░рж┐**ред  

---

## ЁЯФ╣ **1я╕ПтГг Basic Nested Route рждрзИрж░рж┐ ржХрж░рж╛**  
ЁЯСЙ ржзрж░рзБржи, ржЖржорж╛ржжрзЗрж░ `/dashboard` рж░рж╛ржЙржЯрзЗрж░ ржнрж┐рждрж░рзЗ **"Users"** ржУ **"Settings"** ржкрзЗржЬ ржерж╛ржХржмрзЗред

### тЬЕ **ЁЯУБ ржлрзЛрж▓рзНржбрж╛рж░ рж╕рзНржЯрзНрж░рж╛ржХржЪрж╛рж░**
```
app/
тФВтФАтФА dashboard/
тФВ   тФВтФАтФА page.tsx          (Dashboard Home Page)
тФВ   тФВтФАтФА users/
тФВ   тФВ   тФВтФАтФА page.tsx      (Users Page)
тФВ   тФВтФАтФА settings/
тФВ   тФВ   тФВтФАтФА page.tsx      (Settings Page)
```

### **ЁЯУМ `app/dashboard/page.tsx` (Dashboard ржорзВрж▓ ржкрзЗржЬ)**
```tsx
export default function Dashboard() {
  return (
    <div className="p-5">
      <h1 className="text-3xl font-bold">Dashboard</h1>
      <p>ржПржЯрж┐ Dashboard ржПрж░ ржорзВрж▓ ржкрзЗржЬред</p>
    </div>
  );
}
```
ЁЯЫа **рж░рж╛ржЙржЯ:** `/dashboard`  

---

### **ЁЯУМ `app/dashboard/users/page.tsx` (Users Page)**
```tsx
export default function UsersPage() {
  return (
    <div className="p-5">
      <h1 className="text-3xl font-bold">Users</h1>
      <p>ржПржЯрж┐ Users Page ржпрзЗржЦрж╛ржирзЗ ржЗржЙржЬрж╛рж░ рж▓рж┐рж╕рзНржЯ ржерж╛ржХржмрзЗред</p>
    </div>
  );
}
```
ЁЯЫа **рж░рж╛ржЙржЯ:** `/dashboard/users`  

---

### **ЁЯУМ `app/dashboard/settings/page.tsx` (Settings Page)**
```tsx
export default function SettingsPage() {
  return (
    <div className="p-5">
      <h1 className="text-3xl font-bold">Settings</h1>
      <p>ржПржЯрж┐ Settings Page ржпрзЗржЦрж╛ржирзЗ рж╕рзЗржЯрж┐ржВрж╕ ржкрж░рж┐ржмрж░рзНрждржи ржХрж░рж╛ ржпрж╛ржмрзЗред</p>
    </div>
  );
}
```
ЁЯЫа **рж░рж╛ржЙржЯ:** `/dashboard/settings`

---

## ЁЯФ╣ **2я╕ПтГг Nested Layout ржмрзНржпржмрж╣рж╛рж░ ржХрж░рж╛ (Shared Navbar/Footer)**  
ЁЯСЙ **`layout.tsx` ржлрж╛ржЗрж▓ ржмрзНржпржмрж╣рж╛рж░ ржХрж░рзЗ Navbar/Footer рж╢рзЗрзЯрж╛рж░ ржХрж░рж╛ ржпрж╛ржмрзЗред**  

### **ЁЯУМ `app/dashboard/layout.tsx` (Dashboard Layout)**
```tsx
import Link from "next/link";

export default function DashboardLayout({ children }: { children: React.ReactNode }) {
  return (
    <div className="p-5">
      <nav className="mb-5">
        <Link href="/dashboard" className="mr-4 text-blue-500">Home</Link>
        <Link href="/dashboard/users" className="mr-4 text-blue-500">Users</Link>
        <Link href="/dashboard/settings" className="text-blue-500">Settings</Link>
      </nav>
      <main>{children}</main>
    </div>
  );
}
```
тЬЕ **ржПржЦржи `/dashboard` рж░рзБржЯрзЗрж░ ржкрзНрж░рждрж┐ржЯрж┐ ржкрзЗржЬрзЗ Navbar ржжрзЗржЦрж╛ржмрзЗред**  
ЁЯЫа **рж░рж╛ржЙржЯржЧрзБрж▓рзЛ:** `/dashboard`, `/dashboard/users`, `/dashboard/settings`

---

## ЁЯФ╣ **3я╕ПтГг ржбрж╛ржпрж╝ржирж╛ржорж┐ржХ рж░рж╛ржЙржЯ рждрзИрж░рж┐ ржХрж░рж╛**
ЁЯСЙ ржзрж░рзБржи, `/dashboard/users/1`, `/dashboard/users/2` ржПрж░ржХржо **ржбрж╛ржЗржирж╛ржорж┐ржХ рж░рж╛ржЙржЯ рж▓рж╛ржЧржмрзЗ**ред

### тЬЕ **ЁЯУБ ржлрзЛрж▓рзНржбрж╛рж░ рж╕рзНржЯрзНрж░рж╛ржХржЪрж╛рж░**
```
app/
тФВтФАтФА dashboard/
тФВ   тФВтФАтФА users/
тФВ   тФВ   тФВтФАтФА [id]/
тФВ   тФВ   тФВ   тФВтФАтФА page.tsx   (User Details Page)
```

### **ЁЯУМ `app/dashboard/users/[id]/page.tsx` (User Details Page)**
```tsx
export default function UserDetailsPage({ params }: { params: { id: string } }) {
  return (
    <div className="p-5">
      <h1 className="text-3xl font-bold">User ID: {params.id}</h1>
      <p>ржПржЯрж┐ ржЗржЙржЬрж╛рж░рзЗрж░ ржбрж┐ржЯрзЗржЗрж▓рж╕ ржкрзЗржЬред</p>
    </div>
  );
}
```
тЬЕ **ржПржЦржи `/dashboard/users/1`, `/dashboard/users/2` ржЗрждрзНржпрж╛ржжрж┐ рж░рж╛ржЙржЯ ржХрж╛ржЬ ржХрж░ржмрзЗред**

---

## ЁЯФ╣ **4я╕ПтГг Loading Skeleton ржжрзЗржЦрж╛ржирзЛ (Suspense & Loading State)**
ЁЯСЙ **ржбрж╛ржЯрж╛ рж▓рзЛржб рж╣рждрзЗ ржжрзЗрж░рж┐ рж╣рж▓рзЗ "Loading..." ржжрзЗржЦрж╛рждрзЗ ржкрж╛рж░рж┐ред**  

### **ЁЯУМ `app/dashboard/loading.tsx`**
```tsx
export default function Loading() {
  return <p className="text-center text-gray-500">Loading...</p>;
}
```
тЬЕ **ржПржЦржи `/dashboard` ржП рж▓рзЛржбрж┐ржВ рж╕рзНржЯрзЗржЯ ржжрзЗржЦрж╛ржмрзЗ ржбрж╛ржЯрж╛ ржЖрж╕рж╛рж░ ржЖржЧрзЗред**  

---

## ЁЯОп **рж╕ржВржХрзНрж╖рзЗржкрзЗ**
| ржмрж┐рж╖рзЯ | ржмрзНржпрж╛ржЦрзНржпрж╛ |
|------|---------|
| **Basic Nested Route** | `app/dashboard/` ржлрзЛрж▓рзНржбрж╛рж░рзЗрж░ ржнрж┐рждрж░рзЗ ржЖрж▓рж╛ржжрж╛ ржкрзЗржЬ рждрзИрж░рж┐ ржХрж░рж▓рзЗ ржирзЗрж╕рзНржЯрзЗржб рж░рж╛ржЙржЯ ржХрж╛ржЬ ржХрж░ржмрзЗред |
| **Shared Layout** | `layout.tsx` ржмрзНржпржмрж╣рж╛рж░ ржХрж░рзЗ Navbar/Footer ржпрзЛржЧ ржХрж░рж╛ ржпрж╛рзЯред |
| **Dynamic Route** | `app/dashboard/users/[id]/page.tsx` ржмрзНржпржмрж╣рж╛рж░ ржХрж░рж▓рзЗ `/users/1`, `/users/2` рж░рж╛ржЙржЯ ржХрж╛ржЬ ржХрж░ржмрзЗред |
| **Loading State** | `loading.tsx` ржлрж╛ржЗрж▓ ржмрзНржпржмрж╣рж╛рж░ ржХрж░рзЗ рж▓рзЛржбрж┐ржВ ржЗржлрзЗржХрзНржЯ ржпрзЛржЧ ржХрж░рж╛ ржпрж╛рзЯред |

---

## ЁЯОЙ **рж╢рзЗрж╖ ржХржерж╛**
тЬЕ **Next.js-ржП Nested Route рж╕рж╣ржЬрзЗржЗ рждрзИрж░рж┐ ржХрж░рж╛ ржпрж╛рзЯред**  
тЬЕ **Shared Layout ржмрзНржпржмрж╣рж╛рж░ ржХрж░рж▓рзЗ UI ржорзНржпрж╛ржирзЗржЬ ржХрж░рж╛ рж╕рж╣ржЬ рж╣рзЯред**  
тЬЕ **ржбрж╛ржЗржирж╛ржорж┐ржХ рж░рж╛ржЙржЯ ржУ рж▓рзЛржбрж┐ржВ рж╕рзНржХрзНрж░рж┐ржи ржпрзЛржЧ ржХрж░рж▓рзЗ ржкрзНрж░ржЬрзЗржХрзНржЯ ржЖрж░ржУ ржнрж╛рж▓рзЛ рж╣рзЯред**  

ЁЯЪА **ржПржЦржи ржЖржкржирж┐ Next.js-ржП Nested Routing ржмрзНржпржмрж╣рж╛рж░ ржХрж░рждрзЗ ржкрж╛рж░ржмрзЗржи! Happy Coding! ЁЯОп**

</details>
<details>
<summary>Native History API</summary>
### Next.js-ржП Native History API ржмрзНржпржмрж╣рж╛рж░ ржХрж░рж╛  

Next.js-ржП **window.history.pushState** ржПржмржВ **window.history.replaceState** ржорзЗржержб ржмрзНржпржмрж╣рж╛рж░ ржХрж░рзЗ ржмрзНрж░рж╛ржЙржЬрж╛рж░рзЗрж░ **history stack** ржЖржкржбрзЗржЯ ржХрж░рж╛ ржпрж╛ржпрж╝, ржпрж╛рждрзЗ ржкрзЗржЬ рж░рж┐рж▓рзЛржб ржЫрж╛ржбрж╝рж╛ржЗ URL ржкрж░рж┐ржмрж░рзНрждржи ржХрж░рж╛ ржпрж╛ржпрж╝ред  

ржПржЗ ржорзЗржержбржЧрзБрж▓рзЛ **Next.js Router** ржПрж░ рж╕рж╛ржерзЗ ржЗржирзНржЯрж┐ржЧрзНрж░рзЗржЯ рж╣ржпрж╝, ржлрж▓рзЗ **usePathname** ржПржмржВ **useSearchParams** рж╣рзБржХрзЗрж░ ржорж╛ржзрзНржпржорзЗ URL ржкрж░рж┐ржмрж░рзНрждржи ржЯрзНрж░рзНржпрж╛ржХ ржХрж░рж╛ ржпрж╛ржпрж╝ред

---

## ЁЯФ╣ **window.history.pushState**  
ржПржЯрж┐ ржмрзНрж░рж╛ржЙржЬрж╛рж░рзЗрж░ **history stack**-ржП ржирждрзБржи ржПржХржЯрж┐ ржПржирзНржЯрзНрж░рж┐ ржпрзЛржЧ ржХрж░рзЗ, ржлрж▓рзЗ ржЗржЙржЬрж╛рж░ **Back** ржмрж╛ржЯржи ржмрзНржпржмрж╣рж╛рж░ ржХрж░рзЗ ржЖржЧрзЗрж░ ржЕржмрж╕рзНржерж╛ржпрж╝ ржлрж┐рж░рзЗ ржпрзЗрждрзЗ ржкрж╛рж░рзЗржиред  

ЁЯТб **ржЙржжрж╛рж╣рж░ржг:**  
ржПржХржЯрж┐ ржкрзНрж░рзЛржбрж╛ржХрзНржЯ рж▓рж┐рж╕рзНржЯ рж╕рж╛ржЬрж╛ржирзЛрж░ ржЬржирзНржп **pushState** ржмрзНржпржмрж╣рж╛рж░ ржХрж░рж╛ ржпрзЗрждрзЗ ржкрж╛рж░рзЗред  

```tsx
'use client'
 
import { useSearchParams } from 'next/navigation'
 
export default function SortProducts() {
  const searchParams = useSearchParams()
 
  function updateSorting(sortOrder: string) {
    const params = new URLSearchParams(searchParams.toString())
    params.set('sort', sortOrder)
    window.history.pushState(null, '', `?${params.toString()}`)
  }
 
  return (
    <>
      <button onClick={() => updateSorting('asc')}>Sort Ascending</button>
      <button onClick={() => updateSorting('desc')}>Sort Descending</button>
    </>
  )
}
```
ЁЯУМ **ржХрзА рж╣ржЪрзНржЫрзЗ ржПржЦрж╛ржирзЗ?**  
- **useSearchParams()** ржжрж┐рзЯрзЗ ржмрж░рзНрждржорж╛ржи URL-ржПрж░ **query parameters** ржирзЗржУржпрж╝рж╛ рж╣ржЪрзНржЫрзЗред  
- `updateSorting()` ржлрж╛ржВрж╢ржиржЯрж┐ `sort` ржкрзНржпрж╛рж░рж╛ржорж┐ржЯрж╛рж░ ржЖржкржбрзЗржЯ ржХрж░рзЗ **pushState** ржмрзНржпржмрж╣рж╛рж░ ржХрж░рзЗ URL ржкрж░рж┐ржмрж░рзНрждржи ржХрж░ржЫрзЗред  
- ржлрж▓рзЗ ржЗржЙржЬрж╛рж░ ржпржЦржи **Back** ржмрж╛ржЯржи ржЪрж╛ржкржмрзЗ, рждржЦржи ржЖржЧрзЗрж░ **sort order** ржлрж┐рж░рзЗ ржкрж╛ржмрзЗред  

---

## ЁЯФ╣ **window.history.replaceState**  
ржПржЯрж┐ ржмрж░рзНрждржорж╛ржи **history entry** ржкрж░рж┐ржмрж░рзНрждржи ржХрж░рзЗ, рждржмрзЗ ржирждрзБржи ржПржирзНржЯрзНрж░рж┐ ржпрзЛржЧ ржХрж░рзЗ ржирж╛ред ржлрж▓рзЗ **Back** ржмрж╛ржЯржи ржЪрж╛ржкрж▓рзЗ ржЖржЧрзЗрж░ ржЕржмрж╕рзНржерж╛ржпрж╝ ржлрзЗрж░рж╛ ржпрж╛ржпрж╝ ржирж╛ред  

ЁЯТб **ржЙржжрж╛рж╣рж░ржг:**  
ржнрж╛рж╖рж╛ ржкрж░рж┐ржмрж░рзНрждржи (Locale Switch) ржХрж░рж╛рж░ ржЬржирзНржп **replaceState** ржмрзНржпржмрж╣рж╛рж░ ржХрж░рж╛ ржпрзЗрждрзЗ ржкрж╛рж░рзЗред  

```tsx
'use client'
 
import { usePathname } from 'next/navigation'
 
export function LocaleSwitcher() {
  const pathname = usePathname()
 
  function switchLocale(locale: string) {
    // ржирждрзБржи ржнрж╛рж╖рж╛рж░ ржЬржирзНржп URL ржкрж░рж┐ржмрж░рзНрждржи
    const newPath = `/${locale}${pathname}`
    window.history.replaceState(null, '', newPath)
  }
 
  return (
    <>
      <button onClick={() => switchLocale('en')}>English</button>
      <button onClick={() => switchLocale('fr')}>French</button>
    </>
  )
}
```
ЁЯУМ **ржХрзА рж╣ржЪрзНржЫрзЗ ржПржЦрж╛ржирзЗ?**  
- **usePathname()** ржжрж┐рзЯрзЗ ржмрж░рзНрждржорж╛ржи ржкрзЗржЬрзЗрж░ **path** ржирзЗржУржпрж╝рж╛ рж╣ржЪрзНржЫрзЗред  
- `switchLocale()` ржлрж╛ржВрж╢ржиржЯрж┐ ржирждрзБржи ржнрж╛рж╖рж╛ ржпрзБржХрзНржд ржХрж░рзЗ **replaceState** ржмрзНржпржмрж╣рж╛рж░ ржХрж░рзЗ URL ржкрж░рж┐ржмрж░рзНрждржи ржХрж░ржЫрзЗред  
- ржХрж┐ржирзНрждрзБ ржПржЯрж┐ **pushState** ржирзЯ, рждрж╛ржЗ ржЗржЙржЬрж╛рж░ **Back** ржмрж╛ржЯржирзЗ ржЪрж╛ржкрж▓рзЗ ржЖржЧрзЗрж░ ржнрж╛рж╖рж╛рзЯ ржлрж┐рж░рзЗ ржпрзЗрждрзЗ ржкрж╛рж░ржмрзЗ ржирж╛ред  

---

## ЁЯЫа **рж╕ржВржХрзНрж╖рзЗржкрзЗ ржкрж╛рж░рзНржержХрзНржп:**  

| Method | ржХрж╛ржЬрзЗрж░ ржзрж░ржи | Back Button ржХрж╛ржЬ ржХрж░рзЗ? |
|--------|-----------|----------------------|
| **pushState** | ржирждрзБржи **history entry** ржпрзЛржЧ ржХрж░рзЗ | тЬЕ рж╣рзНржпрж╛ржБ |
| **replaceState** | ржмрж░рзНрждржорж╛ржи **history entry** ржкрж░рж┐ржмрж░рзНрждржи ржХрж░рзЗ | тЭМ ржирж╛ |

ржПржЧрзБрж▓рзЛ ржмрзНржпржмрж╣рж╛рж░ ржХрж░рзЗ Next.js-ржП ржбрж╛ржЗржирж╛ржорж┐ржХржнрж╛ржмрзЗ URL ржкрж░рж┐ржмрж░рзНрждржи ржХрж░рж╛ ржпрж╛рзЯ, ржпрж╛ **SEO-friendly** ржПржмржВ **user experience** ржЙржирзНржиржд ржХрж░рзЗ! ЁЯЪА
</details>

<details>
<summary>useSearchParams for sort </summary>
### **ЁЯЫТ рзнржЯрж┐ ржкрзНрж░рзЛржбрж╛ржХрзНржЯ ржирж┐рзЯрзЗ `useSearchParams` ржЗржоржкрзНрж▓рж┐ржорзЗржирзНржЯрзЗрж╢ржи**  
ржПржЦрж╛ржирзЗ ржЖржорж░рж╛ **Next.js** ржмрзНржпржмрж╣рж╛рж░ ржХрж░рзЗ рзнржЯрж┐ ржкрзНрж░рзЛржбрж╛ржХрзНржЯрзЗрж░ ржПржХржЯрж┐ рж▓рж┐рж╕рзНржЯ рждрзИрж░рж┐ ржХрж░ржмрзЛ, ржпрзЗржЦрж╛ржирзЗ ржЗржЙржЬрж╛рж░ **Sort (Ascending/Descending), Category ржлрж┐рж▓рзНржЯрж╛рж░ ржПржмржВ Pagination** ржХрж░рждрзЗ ржкрж╛рж░ржмрзЗред  

---

## **ЁЯУМ Features**
тЬЕ **Query Parameters ржерзЗржХрзЗ Data Fetch ржХрж░ржмрзЗ**  
тЬЕ **Sorting (Price Wise Asc/Desc) ржХрж░рж╛ ржпрж╛ржмрзЗ**  
тЬЕ **Category Wise ржлрж┐рж▓рзНржЯрж╛рж░ ржХрж░рж╛ ржпрж╛ржмрзЗ**  
тЬЕ **Pagination (ржПржХржмрж╛рж░рзЗ рзйржЯрж┐ ржкрзНрж░рзЛржбрж╛ржХрзНржЯ ржжрзЗржЦрж╛ржирзЛ рж╣ржмрзЗ)**  

---

### **ЁЯУЬ Step 1: Dummy Product Data**
```tsx
const products = [
  { id: 1, name: "Laptop", price: 1000, category: "Electronics" },
  { id: 2, name: "Phone", price: 800, category: "Electronics" },
  { id: 3, name: "Shirt", price: 50, category: "Clothing" },
  { id: 4, name: "Jeans", price: 60, category: "Clothing" },
  { id: 5, name: "Washing Machine", price: 500, category: "Home Appliances" },
  { id: 6, name: "Headphones", price: 200, category: "Electronics" },
  { id: 7, name: "Shoes", price: 100, category: "Clothing" }
];
```

---

### **ЁЯУЬ Step 2: `ProductList.tsx` Component**
```tsx
'use client';

import { useSearchParams } from 'next/navigation';
import { useState, useEffect } from 'react';

const products = [
  { id: 1, name: "Laptop", price: 1000, category: "Electronics" },
  { id: 2, name: "Phone", price: 800, category: "Electronics" },
  { id: 3, name: "Shirt", price: 50, category: "Clothing" },
  { id: 4, name: "Jeans", price: 60, category: "Clothing" },
  { id: 5, name: "Washing Machine", price: 500, category: "Home Appliances" },
  { id: 6, name: "Headphones", price: 200, category: "Electronics" },
  { id: 7, name: "Shoes", price: 100, category: "Clothing" }
];

export default function ProductList() {
  const searchParams = useSearchParams();
  const [filteredProducts, setFilteredProducts] = useState(products);

  useEffect(() => {
    let sortedProducts = [...products];

    // тЬЕ Sort Handling
    const sortOrder = searchParams.get('sort');
    if (sortOrder === 'asc') {
      sortedProducts.sort((a, b) => a.price - b.price);
    } else if (sortOrder === 'desc') {
      sortedProducts.sort((a, b) => b.price - a.price);
    }

    // тЬЕ Category Filtering
    const category = searchParams.get('category');
    if (category) {
      sortedProducts = sortedProducts.filter(p => p.category === category);
    }

    // тЬЕ Pagination
    const page = parseInt(searchParams.get('page') || '1', 10);
    const perPage = 3;
    const startIndex = (page - 1) * perPage;
    const endIndex = startIndex + perPage;
    sortedProducts = sortedProducts.slice(startIndex, endIndex);

    setFilteredProducts(sortedProducts);
  }, [searchParams]);

  function updateQuery(param: string, value: string) {
    const params = new URLSearchParams(searchParams.toString());
    if (value) {
      params.set(param, value);
    } else {
      params.delete(param);
    }
    window.history.pushState(null, '', `?${params.toString()}`);
  }

  return (
    <div className="p-4">
      <h2 className="text-xl font-bold mb-2">ЁЯЫТ Product List</h2>

      {/* ЁЯФ╣ Sorting Buttons */}
      <div className="mb-4">
        <button onClick={() => updateQuery('sort', 'asc')} className="px-3 py-1 bg-blue-500 text-white mr-2">Sort by Price (Low to High)</button>
        <button onClick={() => updateQuery('sort', 'desc')} className="px-3 py-1 bg-blue-500 text-white">Sort by Price (High to Low)</button>
      </div>

      {/* ЁЯФ╣ Category Filter */}
      <div className="mb-4">
        <button onClick={() => updateQuery('category', 'Electronics')} className="px-3 py-1 bg-green-500 text-white mr-2">Electronics</button>
        <button onClick={() => updateQuery('category', 'Clothing')} className="px-3 py-1 bg-green-500 text-white mr-2">Clothing</button>
        <button onClick={() => updateQuery('category', 'Home Appliances')} className="px-3 py-1 bg-green-500 text-white">Home Appliances</button>
        <button onClick={() => updateQuery('category', '')} className="px-3 py-1 bg-gray-500 text-white ml-2">Reset</button>
      </div>

      {/* ЁЯФ╣ Product List */}
      <ul className="border p-4 rounded">
        {filteredProducts.length > 0 ? (
          filteredProducts.map((product) => (
            <li key={product.id} className="py-2 border-b">
              {product.name} - ${product.price} ({product.category})
            </li>
          ))
        ) : (
          <p className="text-red-500">No products found.</p>
        )}
      </ul>

      {/* ЁЯФ╣ Pagination */}
      <div className="mt-4">
        <button onClick={() => updateQuery('page', '1')} className="px-3 py-1 bg-gray-700 text-white mr-2">Page 1</button>
        <button onClick={() => updateQuery('page', '2')} className="px-3 py-1 bg-gray-700 text-white">Page 2</button>
      </div>
    </div>
  );
}
```

---

## **ЁЯЪА ржХрзАржнрж╛ржмрзЗ ржХрж╛ржЬ ржХрж░ржмрзЗ?**
1. **Sorting:**  
   - "Sort by Price (Low to High)" ржХрзНрж▓рж┐ржХ ржХрж░рж▓рзЗ URL: `?sort=asc`  
   - "Sort by Price (High to Low)" ржХрзНрж▓рж┐ржХ ржХрж░рж▓рзЗ URL: `?sort=desc`  

2. **Filtering by Category:**  
   - "Electronics" ржХрзНрж▓рж┐ржХ ржХрж░рж▓рзЗ URL: `?category=Electronics`  
   - "Clothing" ржХрзНрж▓рж┐ржХ ржХрж░рж▓рзЗ URL: `?category=Clothing`  
   - "Home Appliances" ржХрзНрж▓рж┐ржХ ржХрж░рж▓рзЗ URL: `?category=Home Appliances`  

3. **Pagination:**  
   - "Page 1" ржХрзНрж▓рж┐ржХ ржХрж░рж▓рзЗ URL: `?page=1` (ржкрзНрж░ржержо рзйржЯрж┐ ржкрзНрж░рзЛржбрж╛ржХрзНржЯ ржжрзЗржЦрж╛ржмрзЗ)  
   - "Page 2" ржХрзНрж▓рж┐ржХ ржХрж░рж▓рзЗ URL: `?page=2` (ржкрж░ржмрж░рзНрждрзА рзйржЯрж┐ ржкрзНрж░рзЛржбрж╛ржХрзНржЯ ржжрзЗржЦрж╛ржмрзЗ)  

---

## **ЁЯФе рж╕ржВржХрзНрж╖рзЗржкрзЗ `useSearchParams` ржжрж┐рзЯрзЗ ржХрзА ржХрж░рж╛ рж╣рж▓рзЛ?**
тЬЕ **Query ржерзЗржХрзЗ `sort`, `category`, `page` рж░рж┐ржб ржХрж░рж╛ рж╣рж▓рзЛред**  
тЬЕ **Sorting ржЕржирзБржпрж╛рзЯрзА ржкрзНрж░рзЛржбрж╛ржХрзНржЯ рж╕рж╛ржЬрж╛ржирзЛ рж╣рж▓рзЛред**  
тЬЕ **Category ржЕржирзБрж╕рж╛рж░рзЗ ржлрж┐рж▓рзНржЯрж╛рж░ ржХрж░рж╛ рж╣рж▓рзЛред**  
тЬЕ **Pagination ржпрзЛржЧ ржХрж░рж╛ рж╣рж▓рзЛ (ржПржХржмрж╛рж░рзЗ рзйржЯрж┐ ржкрзНрж░рзЛржбрж╛ржХрзНржЯ ржжрзЗржЦрж╛ржирзЛ рж╣рж▓рзЛ)ред**  
тЬЕ **URL ржЖржкржбрзЗржЯрзЗрж░ ржЬржирзНржп `window.history.pushState` ржмрзНржпржмрж╣рж╛рж░ ржХрж░рж╛ рж╣рж▓рзЛред**  

ЁЯЪА **ржПржЯрж┐ ржмрзНржпржмрж╣рж╛рж░ ржХрж░рзЗ Next.js-ржП ржбрж╛ржЗржирж╛ржорж┐ржХ ржлрж┐рж▓рзНржЯрж╛рж░рж┐ржВ ржУ ржкрзЗржЬрж┐ржирзЗрж╢ржи рж╕рж╣ржЬрзЗ ржХрж░рж╛ рж╕ржорзНржнржм!** ЁЯОп
</details>

<details>
<summary>Loading UI ржПржмржВ Streaming suspanse </summary>

ржирж┐ржЪрзЗ Next.js-ржП **Loading UI ржПржмржВ Streaming** ржмрзНржпрж╛ржЦрзНржпрж╛ ржХрж░рж╛ рж╣рж▓рзЛ ржПржмржВ **Skeleton UI рж╕рж╣ рж▓рзЛржбрж┐ржВ ржкрзЗржЬрзЗрж░** ржПржХржЯрж┐ ржЙржжрж╛рж╣рж░ржг ржжрзЗржУрзЯрж╛ рж╣рж▓рзЛред

---

## **ЁЯФ╣ Loading UI ржПржмржВ Streaming**
### **ЁЯУМ Loading UI ржХрзА?**
Next.js-ржП `loading.js` ржПржХржЯрж┐ **special file**, ржпрж╛ **React Suspense** ржмрзНржпржмрж╣рж╛рж░ ржХрж░рзЗ **loading state** рждрзИрж░рж┐ ржХрж░рждрзЗ рж╕рж╛рж╣рж╛ржпрзНржп ржХрж░рзЗред ржПржЯрж┐ рж░рзБржЯ рж╕рзЗржЧржорзЗржирзНржЯ (route segment) рж▓рзЛржб рж╣ржУржпрж╝рж╛рж░ рж╕ржоржпрж╝ **рждрзОржХрзНрж╖ржгрж╛рзО ржПржХржЯрж┐ рж▓рзЛржбрж┐ржВ UI** ржжрзЗржЦрж╛ржпрж╝ ржПржмржВ **ржирждрзБржи ржХржирзНржЯрзЗржирзНржЯ** рж▓рзЛржб рж╣ржУржпрж╝рж╛рж░ ржкрж░ рж╕рзНржмржпрж╝ржВржХрзНрж░рж┐ржпрж╝ржнрж╛ржмрзЗ ржкрж░рж┐ржмрж░рзНрждржи ржХрж░рзЗред

### **ЁЯФе Instant Loading States**
- ржмрзНржпржмрж╣рж╛рж░ржХрж╛рж░рзАрж░рж╛ ржмрзБржЭрждрзЗ ржкрж╛рж░рзЗ ржпрзЗ ржЕрзНржпрж╛ржкржЯрж┐ **рж░рзЗрж╕ржкржирзНрж╕ ржХрж░ржЫрзЗред**
- рж╕рзНржХрзНрж░рж┐ржирзЗрж░ ржЧрзБрж░рзБрждрзНржмржкрзВрж░рзНржг ржЕржВрж╢ ржпрзЗржоржи **ржХржнрж╛рж░ ржлржЯрзЛ, ржЯрж╛ржЗржЯрзЗрж▓ ржмрж╛ Skeleton UI** рж▓рзЛржб ржХрж░рж╛ ржпрж╛рзЯред
- ржПржЯрж┐ **ржнрж╛рж▓рзЛ ржЗржЙржЬрж╛рж░ ржПржХрзНрж╕ржкрзЗрж░рж┐рзЯрзЗржирзНрж╕** ржкрзНрж░ржжрж╛ржи ржХрж░рзЗред

### **ЁЯУВ `loading.js` ржлрж╛ржЗрж▓ ржпрзБржХрзНржд ржХрж░рж╛рж░ ржирж┐рзЯржо**
ржлрзЛрж▓рзНржбрж╛рж░рзЗрж░ ржнрж┐рждрж░рзЗ `loading.js` ржлрж╛ржЗрж▓ рж░рж╛ржЦрж▓рзЗржЗ ржПржЯрж┐ **рж╕рзНржмржпрж╝ржВржХрзНрж░рж┐ржпрж╝ржнрж╛ржмрзЗ `layout.js`-ржПрж░ ржнрзЗрждрж░рзЗ `page.js`-ржХрзЗ wrap** ржХрж░ржмрзЗред

ЁЯУМ **ржлрж╛ржЗрж▓ рж╕рзНржЯрзНрж░рж╛ржХржЪрж╛рж░:**
```
app/
 тФЬтФАтФА dashboard/
 тФВ    тФЬтФАтФА page.tsx
 тФВ    тФЬтФАтФА layout.tsx
 тФВ    тФЬтФАтФА loading.tsx  <-- тЬЕ ржПржЦрж╛ржирзЗ рж▓рзЛржбрж┐ржВ UI ржпрзБржХрзНржд рж╣ржмрзЗред
```

### **ЁЯУМ Skeleton UI рж╕рж╣ `loading.tsx` ржлрж╛ржЗрж▓рзЗрж░ ржХрзЛржб**
```tsx
import React from 'react';

export default function Loading() {
  return (
    <div className="p-6">
      <div className="animate-pulse space-y-4">
        <div className="h-4 bg-gray-300 rounded w-3/4"></div>
        <div className="h-4 bg-gray-300 rounded w-1/2"></div>
        <div className="h-8 bg-gray-300 rounded w-full"></div>
      </div>
    </div>
  );
}
```
ЁЯФ╣ **ржПржЦрж╛ржирзЗ ржХрзА рж╣ржЪрзНржЫрзЗ?**
- `animate-pulse` ржХрзНрж▓рж╛рж╕ ржмрзНржпржмрж╣рж╛рж░ ржХрж░рзЗ **рж╕рзЛржлржЯ ржмрж╛ржЙржирзНрж╕рж┐ржВ ржПржлрзЗржХрзНржЯ** ржжрзЗржУржпрж╝рж╛ рж╣ржпрж╝рзЗржЫрзЗред
- `bg-gray-300` ржмрзНржпрж╛ржХржЧрзНрж░рж╛ржЙржирзНржб рж░ржЩрзЗрж░ ржорж╛ржзрзНржпржорзЗ **Skeleton UI** рждрзИрж░рж┐ ржХрж░рж╛ рж╣ржпрж╝рзЗржЫрзЗред

---

## **ЁЯФ╣ Streaming with Suspense**
### **ЁЯУМ Streaming ржХрзАржнрж╛ржмрзЗ ржХрж╛ржЬ ржХрж░рзЗ?**
ЁЯУМ **ржкрзБрж░рзЛржирзЛ SSR ржкрзНрж░рж╕рзЗрж╕:**  
1я╕ПтГг рж╕рж╛рж░рзНржнрж╛рж░ ржерзЗржХрзЗ ржбрж╛ржЯрж╛ ржлрзЗржЪ ржХрж░рж╛ рж╣рзЯред  
2я╕ПтГг рж╕рж╛рж░рзНржнрж╛рж░ HTML рж░рзЗржирзНржбрж╛рж░ ржХрж░рзЗред  
3я╕ПтГг ржХрзНрж▓рж╛рзЯрзЗржирзНржЯрзЗ HTML, CSS, ржПржмржВ JavaScript ржкрж╛ржарж╛ржирзЛ рж╣рзЯред  
4я╕ПтГг ржкрзЗржЬ ржкрзНрж░ржержорзЗ **ржиржи-ржЗржирзНржЯрж╛рж░ржЕрзНржпрж╛ржХржЯрж┐ржн** ржерж╛ржХрзЗред  
5я╕ПтГг **React рж╣рж╛ржЗржбрзНрж░рзЗржЯ ржХрж░рзЗ** ржкрзЗржЬржХрзЗ ржЗржирзНржЯрж╛рж░ржЕрзНржпрж╛ржХржЯрж┐ржн ржХрж░рзЗред  

ЁЯУМ **Streaming SSR-ржПрж░ рж╕рзБржмрж┐ржзрж╛:**  
тЬЕ ржкрзЗржЬ рж▓рзЛржб **ржмрзНрж▓ржХ ржирж╛ рж╣рзЯрзЗ** ржзрж╛ржкрзЗ ржзрж╛ржкрзЗ рж▓рзЛржб рж╣рзЯред  
тЬЕ ржХржо ржЧрзБрж░рзБрждрзНржмржкрзВрж░рзНржг **ржХржорзНржкрзЛржирзЗржирзНржЯржЧрзБрж▓рзЛрж░** рж▓рзЛржбрж┐ржВ **ржкрж░рзЗ рж╣рждрзЗ ржкрж╛рж░рзЗ**ред  
тЬЕ рж╕рж╛рж░рзНржнрж╛рж░ **ржЪрж╛ржВржХ ржЖржХрж╛рж░рзЗ HTML ржкрж╛ржарж╛рждрзЗ ржкрж╛рж░рзЗ**, ржлрж▓рзЗ рж▓рзЛржбрж┐ржВ ржЯрж╛ржЗржо ржХржорзЗред  

---

### **ЁЯУМ `Suspense` ржПржмржВ Streaming-ржПрж░ ржмрзНржпржмрж╣рж╛рж░**
ЁЯУВ **`page.tsx` ржлрж╛ржЗрж▓:**  
```tsx
import { Suspense } from "react";
import { PostFeed, Weather } from "./Components";

export default function Posts() {
  return (
    <section>
      {/* ржкрзЛрж╕рзНржЯ ржлрж┐ржб рж▓рзЛржб рж╣ржЪрзНржЫрзЗ */}
      <Suspense fallback={<p>Loading feed...</p>}>
        <PostFeed />
      </Suspense>
      
      {/* ржЖржмрж╣рж╛ржУржпрж╝рж╛рж░ рждржерзНржп рж▓рзЛржб рж╣ржЪрзНржЫрзЗ */}
      <Suspense fallback={<p>Loading weather...</p>}>
        <Weather />
      </Suspense>
    </section>
  );
}
```
ЁЯФ╣ **ржХрзА рж╣ржЪрзНржЫрзЗ?**
- **`Suspense` ржмрзНржпрж╛ржмрж╣рж╛рж░ ржХрж░рзЗ** ржЖрж▓рж╛ржжрж╛ ржХржорзНржкрзЛржирзЗржирзНржЯ рж▓рзЛржб ржХрж░рж╛ рж╣ржЪрзНржЫрзЗред
- **`fallback` рж╣рж┐рж╕рзЗржмрзЗ Skeleton UI, Spinner ржмрж╛ ржЯрзЗржХрзНрж╕ржЯ ржжрзЗржЦрж╛ржирзЛ ржпрж╛рзЯред**
- **Streaming-ржПрж░ ржлрж▓рзЗ ржХрж┐ржЫрзБ ржЕржВрж╢ ржЖржЧрзЗ ржжрзЗржЦрж╛ ржпрж╛ржмрзЗ, ржХрж┐ржЫрзБ ржЕржВрж╢ ржкрж░рзЗ рж▓рзЛржб рж╣ржмрзЗред**

---

## **ЁЯФ╣ SEO ржПржмржВ Performance**
тЬЕ **SEO рждрзЗ ржХрзЛржирзЛ рж╕ржорж╕рзНржпрж╛ рж╣ржмрзЗ ржирж╛**, ржХрж╛рж░ржг **Next.js `generateMetadata`** рж╕ржорзНржкржирзНржи рж╣ржУржпрж╝рж╛рж░ ржкрж░ **ржкрзНрж░ржержо ржЕржВрж╢ржЯрж┐ рж╕рзНржЯрзНрж░рж┐ржо ржХрж░ржмрзЗред**  
тЬЕ **рж╕рзНржЯрзНржпрж╛ржЯрж╛рж╕ ржХрзЛржб:** рж╕рзНржЯрзНрж░рж┐ржорж┐ржВ ржПрж░ ржХрзНрж╖рзЗрждрзНрж░рзЗ **рзирзжрзж рж╕рзНржЯрзНржпрж╛ржЯрж╛рж╕ ржХрзЛржб** ржлрзЗрж░ржд ржЖрж╕ржмрзЗред  
тЬЕ **рж╕рж░рзНржмрзЛржЪрзНржЪ ржкрж╛рж░ржлрж░ржорзНржпрж╛ржирзНрж╕ ржкрзЗрждрзЗ `loading.js` ржПржмржВ `Suspense` ржмрзНржпржмрж╣рж╛рж░ ржХрж░рзБржиред**  

---

ржПржнрж╛ржмрзЗ **Skeleton UI** ржПржмржВ **Streaming Suspense** ржмрзНржпржмрж╣рж╛рж░ ржХрж░рзЗ **ржПржХржЯрж┐ рж╕рзБржкрж╛рж░ ржлрж╛рж╕рзНржЯ, SEO ржлрзНрж░рзЗржирзНржбрж▓рж┐ ржПржмржВ ржнрж╛рж▓рзЛ UX ржкрзНрж░ржжрж╛ржи ржХрж░рж╛ ржпрж╛рзЯ! ЁЯЪА**
</details>


<details> 
 <summary>Next.js-ржП рж░рж┐ржбрж╛ржЗрж░рзЗржХрзНржЯ ржХрж░рж╛рж░ рж╕ржорзНржкрзВрж░рзНржг ржЯрж┐ржЙржЯрзЛрж░рж┐ржпрж╝рж╛рж▓ </summary>

 ### Next.js-ржП рж░рж┐ржбрж╛ржЗрж░рзЗржХрзНржЯ ржХрж░рж╛рж░ рж╕ржорзНржкрзВрж░рзНржг ржЯрж┐ржЙржЯрзЛрж░рж┐ржпрж╝рж╛рж▓ (ржмрж╛ржВрж▓рж╛ржпрж╝)

ржПржЗ ржЯрж┐ржЙржЯрзЛрж░рж┐ржпрж╝рж╛рж▓рзЗ ржЖржорж░рж╛ Next.js-ржП рж░рж┐ржбрж╛ржЗрж░рзЗржХрзНржЯ ржХрж░рж╛рж░ ржмрж┐ржнрж┐ржирзНржи ржкржжрзНржзрждрж┐ рж╢рж┐ржЦржмред рж░рж┐ржбрж╛ржЗрж░рзЗржХрзНржЯрж┐ржВ ржмрзНржпржмрж╣рж╛рж░ржХрж╛рж░рзАржжрзЗрж░ ржПржХ ржкрзГрж╖рзНржарж╛ ржерзЗржХрзЗ ржЕржирзНржп ржкрзГрж╖рзНржарж╛ржпрж╝ ржирж┐ржпрж╝рзЗ ржпрж╛ржУржпрж╝рж╛рж░ ржЬржирзНржп ржЕрждрзНржпржирзНржд ржЧрзБрж░рзБрждрзНржмржкрзВрж░рзНржг, ржмрж┐рж╢рзЗрж╖ ржХрж░рзЗ ржпржЦржи URL ржкрж░рж┐ржмрж░рзНрждржи рж╣ржпрж╝ ржмрж╛ ржмрзНржпржмрж╣рж╛рж░ржХрж╛рж░рзАрж░ ржЕрзНржпрж╛ржХрж╢ржирзЗрж░ ржнрж┐рждрзНрждрж┐рждрзЗ ржкрзГрж╖рзНржарж╛ ржкрж░рж┐ржмрж░рзНрждржи ржХрж░рж╛ ржкрзНрж░ржпрж╝рзЛржЬржиред

---

### рзз. `redirect` ржлрж╛ржВрж╢ржи ржмрзНржпржмрж╣рж╛рж░ ржХрж░рзЗ рж░рж┐ржбрж╛ржЗрж░рзЗржХрзНржЯ

**ржХржЦржи ржмрзНржпржмрж╣рж╛рж░ ржХрж░ржмрзЗржи?**  
ржпржЦржи ржХрзЛржирзЛ рж╕рж╛рж░рзНржнрж╛рж░ ржЕрзНржпрж╛ржХрж╢ржи ржмрж╛ ржЗржнрзЗржирзНржЯрзЗрж░ ржкрж░рзЗ ржмрзНржпржмрж╣рж╛рж░ржХрж╛рж░рзАржХрзЗ ржЕржирзНржп ржкрзГрж╖рзНржарж╛ржпрж╝ ржирж┐ржпрж╝рзЗ ржпрзЗрждрзЗ ржЪрж╛ржиред

**ржЙржжрж╛рж╣рж░ржг:**
ржзрж░рзБржи, ржЖржкржирж┐ ржПржХржЯрж┐ ржмрзНрж▓ржЧ ржкрзЛрж╕рзНржЯ рждрзИрж░рж┐ ржХрж░рж╛рж░ ржкрж░рзЗ ржмрзНржпржмрж╣рж╛рж░ржХрж╛рж░рзАржХрзЗ ржирждрзБржи ржкрзЛрж╕рзНржЯрзЗрж░ ржкрзГрж╖рзНржарж╛ржпрж╝ ржирж┐ржпрж╝рзЗ ржпрзЗрждрзЗ ржЪрж╛ржиред

```typescript
// app/actions.ts
'use server'

import { redirect } from 'next/navigation'
import { revalidatePath } from 'next/cache'

export async function createPost(id: string) {
  try {
    // ржбрж╛ржЯрж╛ржмрзЗрж╕рзЗ ржкрзЛрж╕рзНржЯ рждрзИрж░рж┐ ржХрж░рзБржи
  } catch (error) {
    // рждрзНрж░рзБржЯрж┐ рж╣рзНржпрж╛ржирзНржбрж▓ ржХрж░рзБржи
  }

  revalidatePath('/posts') // ржХрзНржпрж╛рж╢рзЗ ржХрж░рж╛ ржкрзЛрж╕рзНржЯ ржЖржкржбрзЗржЯ ржХрж░рзБржи
  redirect(`/post/${id}`) // ржирждрзБржи ржкрзЛрж╕рзНржЯ ржкрзГрж╖рзНржарж╛ржпрж╝ ржирзЗржнрж┐ржЧрзЗржЯ ржХрж░рзБржи
}
```

**ржЬрж╛ржирж╛рж░ ржмрж┐рж╖ржпрж╝:**
- `redirect` ржбрж┐ржлрж▓рзНржЯржнрж╛ржмрзЗ 307 (ржЕрж╕рзНржерж╛ржпрж╝рзА рж░рж┐ржбрж╛ржЗрж░рзЗржХрзНржЯ) рж╕рзНржЯрзНржпрж╛ржЯрж╛рж╕ ржХрзЛржб рж░рж┐ржЯрж╛рж░рзНржи ржХрж░рзЗред
- ржПржЯрж┐ рж╕рж╛рж░рзНржнрж╛рж░ ржХржорзНржкрзЛржирзЗржирзНржЯ, рж╕рж╛рж░рзНржнрж╛рж░ ржЕрзНржпрж╛ржХрж╢ржи ржПржмржВ рж░рж╛ржЙржЯ рж╣рзНржпрж╛ржирзНржбрж▓рж╛рж░рзЗ ржмрзНржпржмрж╣рж╛рж░ ржХрж░рж╛ ржпрж╛ржпрж╝ред

---

### рзи. `permanentRedirect` ржлрж╛ржВрж╢ржи ржмрзНржпржмрж╣рж╛рж░ ржХрж░рзЗ рж╕рзНржерж╛ржпрж╝рзА рж░рж┐ржбрж╛ржЗрж░рзЗржХрзНржЯ

**ржХржЦржи ржмрзНржпржмрж╣рж╛рж░ ржХрж░ржмрзЗржи?**  
ржпржЦржи ржХрзЛржирзЛ рж╕рзНржерж╛ржпрж╝рзА ржкрж░рж┐ржмрж░рзНрждржи рж╣ржпрж╝, ржпрзЗржоржи ржЗржЙржЬрж╛рж░ржирзЗржо ржкрж░рж┐ржмрж░рзНрждржирзЗрж░ ржкрж░рзЗ ржкрзНрж░рзЛржлрж╛ржЗрж▓ URL ржЖржкржбрзЗржЯ ржХрж░рж╛ред

**ржЙржжрж╛рж╣рж░ржг:**
```typescript
// app/actions.ts
'use server'

import { permanentRedirect } from 'next/navigation'
import { revalidateTag } from 'next/cache'

export async function updateUsername(username: string, formData: FormData) {
  try {
    // ржбрж╛ржЯрж╛ржмрзЗрж╕рзЗ ржЗржЙржЬрж╛рж░ржирзЗржо ржЖржкржбрзЗржЯ ржХрж░рзБржи
  } catch (error) {
    // рждрзНрж░рзБржЯрж┐ рж╣рзНржпрж╛ржирзНржбрж▓ ржХрж░рзБржи
  }

  revalidateTag('username') // ржЗржЙржЬрж╛рж░ржирзЗржорзЗрж░ рж╕ржХрж▓ рж░рзЗржлрж╛рж░рзЗржирзНрж╕ ржЖржкржбрзЗржЯ ржХрж░рзБржи
  permanentRedirect(`/profile/${username}`) // ржирждрзБржи ржкрзНрж░рзЛржлрж╛ржЗрж▓ URL-ржП ржирзЗржнрж┐ржЧрзЗржЯ ржХрж░рзБржи
}
```

**ржЬрж╛ржирж╛рж░ ржмрж┐рж╖ржпрж╝:**
- `permanentRedirect` ржбрж┐ржлрж▓рзНржЯржнрж╛ржмрзЗ 308 (рж╕рзНржерж╛ржпрж╝рзА рж░рж┐ржбрж╛ржЗрж░рзЗржХрзНржЯ) рж╕рзНржЯрзНржпрж╛ржЯрж╛рж╕ ржХрзЛржб рж░рж┐ржЯрж╛рж░рзНржи ржХрж░рзЗред

---

### рзй. `useRouter` рж╣рзБржХ ржмрзНржпржмрж╣рж╛рж░ ржХрж░рзЗ ржХрзНрж▓рж╛ржпрж╝рзЗржирзНржЯ-рж╕рж╛ржЗржб рж░рж┐ржбрж╛ржЗрж░рзЗржХрзНржЯ

**ржХржЦржи ржмрзНржпржмрж╣рж╛рж░ ржХрж░ржмрзЗржи?**  
ржХрзНрж▓рж╛ржпрж╝рзЗржирзНржЯ ржХржорзНржкрзЛржирзЗржирзНржЯрзЗ ржЗржнрзЗржирзНржЯ рж╣рзНржпрж╛ржирзНржбрж▓рж╛рж░рзЗрж░ ржнрж┐рждрж░рзЗ рж░рж┐ржбрж╛ржЗрж░рзЗржХрзНржЯ ржХрж░рждрзЗред

**ржЙржжрж╛рж╣рж░ржг:**
```typescript
// app/page.tsx
'use client'

import { useRouter } from 'next/navigation'

export default function Page() {
  const router = useRouter()

  return (
    <button type="button" onClick={() => router.push('/dashboard')}>
      ржбрзНржпрж╛рж╢ржмрзЛрж░рзНржб
    </button>
  )
}
```

**ржЬрж╛ржирж╛рж░ ржмрж┐рж╖ржпрж╝:**
- ржкрзНрж░рзЛржЧрзНрж░рж╛ржорзНржпрж╛ржЯрж┐ржХ ржирзЗржнрж┐ржЧрзЗрж╢ржирзЗрж░ ржЬржирзНржп `useRouter` ржмрзНржпржмрж╣рж╛рж░ ржХрж░рзБржиред рж▓рж┐ржЩрзНржХрзЗрж░ ржЬржирзНржп `<Link>` ржХржорзНржкрзЛржирзЗржирзНржЯ ржмрзНржпржмрж╣рж╛рж░ ржХрж░рж╛ ржнрж╛рж▓рзЛред

---

### рзк. `next.config.js`-ржП рж░рж┐ржбрж╛ржЗрж░рзЗржХрзНржЯ ржХржиржлрж┐ржЧрж╛рж░ ржХрж░рж╛

**ржХржЦржи ржмрзНржпржмрж╣рж╛рж░ ржХрж░ржмрзЗржи?**  
ржпржЦржи ржЖржЧрзЗ ржерзЗржХрзЗ ржЬрж╛ржирж╛ URL ржкрж╛рже ржкрж░рж┐ржмрж░рзНрждржи ржХрж░рждрзЗ ржЪрж╛ржи ржмрж╛ ржмржбрж╝ рж╕ржВржЦрзНржпржХ рж░рж┐ржбрж╛ржЗрж░рзЗржХрзНржЯ ржкрж░рж┐ржЪрж╛рж▓ржирж╛ ржХрж░рждрзЗ ржЪрж╛ржиред

**ржЙржжрж╛рж╣рж░ржг:**
```typescript
// next.config.js
module.exports = {
  async redirects() {
    return [
      {
        source: '/about', // ржкрзБрж░рж╛ржирзЛ URL
        destination: '/', // ржирждрзБржи URL
        permanent: true, // рж╕рзНржерж╛ржпрж╝рзА рж░рж┐ржбрж╛ржЗрж░рзЗржХрзНржЯ
      },
      {
        source: '/blog/:slug', // ржУржпрж╝рж╛ржЗрж▓рзНржбржХрж╛рж░рзНржб ржкрж╛рже
        destination: '/news/:slug', // ржирждрзБржи ржкрж╛рже
        permanent: true,
      },
    ]
  },
}
```

**ржЬрж╛ржирж╛рж░ ржмрж┐рж╖ржпрж╝:**
- `permanent: true` рж╣рж▓рзЗ 308 (рж╕рзНржерж╛ржпрж╝рзА рж░рж┐ржбрж╛ржЗрж░рзЗржХрзНржЯ), `false` рж╣рж▓рзЗ 307 (ржЕрж╕рзНржерж╛ржпрж╝рзА рж░рж┐ржбрж╛ржЗрж░рзЗржХрзНржЯ) рж╕рзНржЯрзНржпрж╛ржЯрж╛рж╕ ржХрзЛржб рж░рж┐ржЯрж╛рж░рзНржи ржХрж░рзЗред

---

### рзл. ржорж┐ржбрж▓ржУржпрж╝рзНржпрж╛рж░ ржмрзНржпржмрж╣рж╛рж░ ржХрж░рзЗ рж░рж┐ржбрж╛ржЗрж░рзЗржХрзНржЯ

**ржХржЦржи ржмрзНржпржмрж╣рж╛рж░ ржХрж░ржмрзЗржи?**  
ржпржЦржи рж╢рж░рзНрждрж╕рж╛ржкрзЗржХрзНрж╖рзЗ рж░рж┐ржбрж╛ржЗрж░рзЗржХрзНржЯ ржХрж░рждрзЗ ржЪрж╛ржи, ржпрзЗржоржи ржЕржерзЗржирзНржЯрж┐ржХрзЗрж╢ржи ржЪрзЗржХ ржХрж░рж╛ред

**ржЙржжрж╛рж╣рж░ржг:**
```typescript
// middleware.ts
import { NextResponse, NextRequest } from 'next/server'
import { authenticate } from 'auth-provider'

export function middleware(request: NextRequest) {
  const isAuthenticated = authenticate(request)

  // ржкрзНрж░ржорж╛ржгрзАржХрж░ржг ржХрж░рж╛ ржерж╛ржХрж▓рзЗ рж╕рзНржмрж╛ржнрж╛ржмрж┐ржХржнрж╛ржмрзЗ ржЪрж╛рж▓рж┐ржпрж╝рзЗ ржпрж╛ржи
  if (isAuthenticated) {
    return NextResponse.next()
  }

  // ржкрзНрж░ржорж╛ржгрзАржХрж░ржг ржирж╛ ржХрж░рж╛ ржерж╛ржХрж▓рзЗ рж▓ржЧржЗржи ржкрзГрж╖рзНржарж╛ржпрж╝ рж░рж┐ржбрж╛ржЗрж░рзЗржХрзНржЯ ржХрж░рзБржи
  return NextResponse.redirect(new URL('/login', request.url))
}

export const config = {
  matcher: '/dashboard/:path*', // рж╢рзБржзрзБржорж╛рждрзНрж░ ржбрзНржпрж╛рж╢ржмрзЛрж░рзНржбрзЗрж░ ржЬржирзНржп ржорж┐ржбрж▓ржУржпрж╝рзНржпрж╛рж░ ржкрзНрж░ржпрж╝рзЛржЧ
}
```

**ржЬрж╛ржирж╛рж░ ржмрж┐рж╖ржпрж╝:**
- ржорж┐ржбрж▓ржУржпрж╝рзНржпрж╛рж░ `next.config.js`-ржП рж░рж┐ржбрж╛ржЗрж░рзЗржХрзНржЯрзЗрж░ ржкрж░рзЗ ржПржмржВ рж░рзЗржирзНржбрж╛рж░рж┐ржВ ржПрж░ ржЖржЧрзЗ рж░рж╛ржи рж╣ржпрж╝ред

---

### рзм. ржмржбрж╝ рж╕ржВржЦрзНржпржХ рж░рж┐ржбрж╛ржЗрж░рзЗржХрзНржЯ ржкрж░рж┐ржЪрж╛рж▓ржирж╛ (ржПржбржнрж╛ржирзНрж╕ржб)

**ржХржЦржи ржмрзНржпржмрж╣рж╛рж░ ржХрж░ржмрзЗржи?**  
ржпржЦржи ржЖржкржирж╛рж░ ржЕрзНржпрж╛ржкрзНрж▓рж┐ржХрзЗрж╢ржирзЗ 1000+ рж░рж┐ржбрж╛ржЗрж░рзЗржХрзНржЯ ржерж╛ржХрзЗ ржПржмржВ ржЖржкржирж┐ ржПржЧрзБрж▓рж┐ржХрзЗ ржжржХрзНрж╖рждрж╛рж░ рж╕рж╛ржерзЗ ржкрж░рж┐ржЪрж╛рж▓ржирж╛ ржХрж░рждрзЗ ржЪрж╛ржиред

**ржзрж╛ржк:**
1. ржПржХржЯрж┐ рж░рж┐ржбрж╛ржЗрж░рзЗржХрзНржЯ ржорзНржпрж╛ржк рждрзИрж░рж┐ ржХрж░рзБржи (ржпрзЗржоржи JSON ржлрж╛ржЗрж▓ ржмрж╛ ржбрж╛ржЯрж╛ржмрзЗрж╕рзЗ рж╕ржВрж░ржХрзНрж╖ржг ржХрж░рзБржи)ред
2. ржорж┐ржбрж▓ржУржпрж╝рзНржпрж╛рж░ ржПржмржВ Bloom filter ржмрзНржпржмрж╣рж╛рж░ ржХрж░рзЗ ржжрзНрж░рзБржд рж▓рзБржХржЖржк ржХрж░рзБржиред

**ржЙржжрж╛рж╣рж░ржг:**
```typescript
// middleware.ts
import { NextResponse, NextRequest } from 'next/server'
import { ScalableBloomFilter } from 'bloom-filters'
import GeneratedBloomFilter from './redirects/bloom-filter.json'

// Bloom filter ржЗржирж┐рж╢рж┐ржпрж╝рж╛рж▓рж╛ржЗржЬ ржХрж░рзБржи
const bloomFilter = ScalableBloomFilter.fromJSON(GeneratedBloomFilter as any)

export async function middleware(request: NextRequest) {
  const pathname = request.nextUrl.pathname

  // Bloom filter-ржП ржкрж╛рже ржЖржЫрзЗ ржХрж┐ржирж╛ ржЪрзЗржХ ржХрж░рзБржи
  if (bloomFilter.has(pathname)) {
    const api = new URL(
      `/api/redirects?pathname=${encodeURIComponent(pathname)}`,
      request.nextUrl.origin
    )

    try {
      const redirectData = await fetch(api)
      if (redirectData.ok) {
        const redirectEntry = await redirectData.json()
        if (redirectEntry) {
          const statusCode = redirectEntry.permanent ? 308 : 307
          return NextResponse.redirect(redirectEntry.destination, statusCode)
        }
      }
    } catch (error) {
      console.error(error)
    }
  }

  // рж░рж┐ржбрж╛ржЗрж░рзЗржХрзНржЯ ржкрж╛ржУржпрж╝рж╛ ржпрж╛ржпрж╝ржирж┐, рж░рж┐ржбрж╛ржЗрж░рзЗржХрзНржЯ ржЫрж╛ржбрж╝рж╛ржЗ ржЪрж╛рж▓рж┐ржпрж╝рзЗ ржпрж╛ржи
  return NextResponse.next()
}
```

**ржЬрж╛ржирж╛рж░ ржмрж┐рж╖ржпрж╝:**
- Bloom filter ржмрзНржпржмрж╣рж╛рж░ ржХрж░рзЗ ржЖржкржирж┐ ржжрзНрж░рзБржд ржЪрзЗржХ ржХрж░рждрзЗ ржкрж╛рж░рзЗржи ржпрзЗ рж░рж┐ржбрж╛ржЗрж░рзЗржХрзНржЯ ржЖржЫрзЗ ржХрж┐ржирж╛ред

---

### рж╢рзЗрж╖ ржХржерж╛

ржПржЗ ржЯрж┐ржЙржЯрзЛрж░рж┐ржпрж╝рж╛рж▓рзЗ ржЖржорж░рж╛ Next.js-ржП рж░рж┐ржбрж╛ржЗрж░рзЗржХрзНржЯ ржХрж░рж╛рж░ ржмрж┐ржнрж┐ржирзНржи ржкржжрзНржзрждрж┐ рж╢рж┐ржЦрзЗржЫрж┐ред ржкрзНрж░рждрж┐ржЯрж┐ ржкржжрзНржзрждрж┐рж░ ржирж┐ржЬрж╕рзНржм ржмрзНржпржмрж╣рж╛рж░рзЗрж░ ржХрзНрж╖рзЗрждрзНрж░ рж░ржпрж╝рзЗржЫрзЗ, рждрж╛ржЗ ржЖржкржирж╛рж░ ржкрзНрж░ржпрж╝рзЛржЬржирзЗрж░ ржнрж┐рждрзНрждрж┐рждрзЗ рж╕ржарж┐ржХ ржкржжрзНржзрждрж┐ ржмрзЗржЫрзЗ ржирж┐ржиред рж░рж┐ржбрж╛ржЗрж░рзЗржХрзНржЯрж┐ржВ ржмрзНржпржмрж╣рж╛рж░ ржХрж░рзЗ ржЖржкржирж┐ ржмрзНржпржмрж╣рж╛рж░ржХрж╛рж░рзАржжрзЗрж░ ржЬржирзНржп ржПржХржЯрж┐ рж╕рзБржмрж┐ржирзНржпрж╕рзНржд ржПржмржВ ржжржХрзНрж╖ ржирзЗржнрж┐ржЧрзЗрж╢ржи ржЕржнрж┐ржЬрзНржЮрждрж╛ рждрзИрж░рж┐ ржХрж░рждрзЗ ржкрж╛рж░рзЗржиред

Happy Coding! ЁЯЪА
</details>




<details> 
 <summary>Parallel Routes: рж╕ржорзНржкрзВрж░рзНржг ржЯрж┐ржЙржЯрзЛрж░рж┐ржпрж╝рж╛рж▓ </summary>
 ### Next.js-ржП Parallel Routes: рж╕ржорзНржкрзВрж░рзНржг ржЯрж┐ржЙржЯрзЛрж░рж┐ржпрж╝рж╛рж▓ (ржмрж╛ржВрж▓рж╛ржпрж╝)

Parallel Routes Next.js-ржПрж░ ржПржХржЯрж┐ рж╢ржХрзНрждрж┐рж╢рж╛рж▓рзА ржлрж┐ржЪрж╛рж░ ржпрж╛ ржЖржкржирж╛ржХрзЗ ржПржХржЗ рж▓рзЗржЖржЙржЯрзЗ ржПржХрж╛ржзрж┐ржХ ржкрзГрж╖рзНржарж╛ ржПржХрж╕рж╛ржерзЗ ржмрж╛ рж╢рж░рзНрждрж╕рж╛ржкрзЗржХрзНрж╖рзЗ рж░рзЗржирзНржбрж╛рж░ ржХрж░рждрзЗ ржжрзЗржпрж╝ред ржПржЯрж┐ ржбрзНржпрж╛рж╢ржмрзЛрж░рзНржб, рж╕рзЛрж╢рзНржпрж╛рж▓ ржорж┐ржбрж┐ржпрж╝рж╛ ржлрж┐ржб, ржмрж╛ ржЕржирзНржпрж╛ржирзНржп ржбрж╛ржпрж╝ржирж╛ржорж┐ржХ рж╕рзЗржХрж╢ржи рждрзИрж░рж┐ ржХрж░рж╛рж░ ржЬржирзНржп ржЕрждрзНржпржирзНржд ржЙржкржпрзЛржЧрзАред

ржПржЗ ржЯрж┐ржЙржЯрзЛрж░рж┐ржпрж╝рж╛рж▓рзЗ ржЖржорж░рж╛ Parallel Routes-ржПрж░ ржзрж╛рж░ржгрж╛, ржмрзНржпржмрж╣рж╛рж░рзЗрж░ ржкржжрзНржзрждрж┐ ржПржмржВ ржХрж┐ржЫрзБ ржмрзНржпржмрж╣рж╛рж░рж┐ржХ ржЙржжрж╛рж╣рж░ржг рж╢рж┐ржЦржмред

---

### рзз. Parallel Routes ржХрзА?

Parallel Routes ржЖржкржирж╛ржХрзЗ ржПржХржЗ рж▓рзЗржЖржЙржЯрзЗ ржПржХрж╛ржзрж┐ржХ ржкрзГрж╖рзНржарж╛ (ржмрж╛ рж╕рзНрж▓ржЯ) ржПржХрж╕рж╛ржерзЗ рж░рзЗржирзНржбрж╛рж░ ржХрж░рждрзЗ ржжрзЗржпрж╝ред ржкрзНрж░рждрж┐ржЯрж┐ рж╕рзНрж▓ржЯ ржПржХржЯрж┐ ржЖрж▓рж╛ржжрж╛ ржХржорзНржкрзЛржирзЗржирзНржЯ ржмрж╛ ржкрзГрж╖рзНржарж╛ рж╣рждрзЗ ржкрж╛рж░рзЗ, ржпрж╛ URL-ржПрж░ рж╕рж╛ржерзЗ рж╕рж┐ржЩрзНржХрзНрж░рзЛржирж╛ржЗржЬржб ржерж╛ржХрзЗред

**ржЙржжрж╛рж╣рж░ржг:**  
ржПржХржЯрж┐ ржбрзНржпрж╛рж╢ржмрзЛрж░рзНржбрзЗ ржЖржкржирж┐ ржПржХржЗ рж╕рж╛ржерзЗ `@team` ржПржмржВ `@analytics` рж╕рзНрж▓ржЯ рж░рзЗржирзНржбрж╛рж░ ржХрж░рждрзЗ ржкрж╛рж░рзЗржиред

---

### рзи. Parallel Routes рждрзИрж░рж┐ ржХрж░рж╛

Parallel Routes рждрзИрж░рж┐ ржХрж░рждрзЗ Next.js-ржП `@folder` ржХржиржнрзЗржирж╢ржи ржмрзНржпржмрж╣рж╛рж░ ржХрж░рж╛ рж╣ржпрж╝ред ржкрзНрж░рждрж┐ржЯрж┐ рж╕рзНрж▓ржЯ ржПржХржЯрж┐ ржлрзЛрж▓рзНржбрж╛рж░ ржжрзНржмрж╛рж░рж╛ ржкрзНрж░рждрж┐ржирж┐ржзрж┐рждрзНржм ржХрж░рж╛ рж╣ржпрж╝ред

**ржлрж╛ржЗрж▓ рж╕рзНржЯрзНрж░рж╛ржХржЪрж╛рж░:**
```
app/
тФЬтФАтФА @analytics/
тФВ   тФЬтФАтФА page.tsx
тФЬтФАтФА @team/
тФВ   тФЬтФАтФА page.tsx
тФЬтФАтФА layout.tsx
тФЬтФАтФА page.tsx
```

**рж▓рзЗржЖржЙржЯрзЗ рж╕рзНрж▓ржЯ ржмрзНржпржмрж╣рж╛рж░:**
```typescript
// app/layout.tsx
export default function Layout({
  children,
  analytics,
  team,
}: {
  children: React.ReactNode;
  analytics: React.ReactNode;
  team: React.ReactNode;
}) {
  return (
    <>
      {children}
      {analytics}
      {team}
    </>
  );
}
```

**ржЬрж╛ржирж╛рж░ ржмрж┐рж╖ржпрж╝:**
- `children` ржПржХржЯрж┐ ржЗржоржкрзНрж▓рж┐рж╕рж┐ржЯ рж╕рзНрж▓ржЯ, ржпрж╛ `@children` ржлрзЛрж▓рзНржбрж╛рж░рзЗрж░ рж╕ржорждрзБрж▓рзНржпред
- рж╕рзНрж▓ржЯржЧрзБрж▓рж┐ URL рж╕рзНржЯрзНрж░рж╛ржХржЪрж╛рж░ржХрзЗ ржкрзНрж░ржнрж╛ржмрж┐ржд ржХрж░рзЗ ржирж╛ред ржЙржжрж╛рж╣рж░ржгрж╕рзНржмрж░рзВржк, `/@analytics/views` URL рж╣ржмрзЗ `/views`ред

---

### рзй. Active State ржПржмржВ ржирзЗржнрж┐ржЧрзЗрж╢ржи

Next.js рж╕рзНржмржпрж╝ржВржХрзНрж░рж┐ржпрж╝ржнрж╛ржмрзЗ ржкрзНрж░рждрж┐ржЯрж┐ рж╕рзНрж▓ржЯрзЗрж░ Active State ржЯрзНрж░рзНржпрж╛ржХ ржХрж░рзЗред

- **рж╕ржлржЯ ржирзЗржнрж┐ржЧрзЗрж╢ржи:** ржХрзНрж▓рж╛ржпрж╝рзЗржирзНржЯ-рж╕рж╛ржЗржб ржирзЗржнрж┐ржЧрзЗрж╢ржирзЗ, рж╢рзБржзрзБржорж╛рждрзНрж░ рж╕ржВрж╢рзНрж▓рж┐рж╖рзНржЯ рж╕рзНрж▓ржЯрзЗрж░ ржХржирзНржЯрзЗржирзНржЯ ржЖржкржбрзЗржЯ рж╣ржпрж╝, ржЕржирзНржп рж╕рзНрж▓ржЯржЧрзБрж▓рж┐ ржЕржкрж░рж┐ржмрж░рзНрждрж┐ржд ржерж╛ржХрзЗред
- **рж╣рж╛рж░рзНржб ржирзЗржнрж┐ржЧрзЗрж╢ржи:** ржкрзГрж╖рзНржарж╛ рж░рж┐ржлрзНрж░рзЗрж╢ ржмрж╛ ржлрзБрж▓-ржкрзЗржЬ рж▓рзЛржбрзЗ, Next.js `default.js` ржлрж╛ржЗрж▓ ржмрзНржпржмрж╣рж╛рж░ ржХрж░рзЗред ржпржжрж┐ `default.js` ржирж╛ ржерж╛ржХрзЗ, рждрж╛рж╣рж▓рзЗ 404 ржжрзЗржЦрж╛ржпрж╝ред

**ржЙржжрж╛рж╣рж░ржг:**
```
app/
тФЬтФАтФА @analytics/
тФВ   тФЬтФАтФА default.tsx
тФВ   тФЬтФАтФА page-views/
тФВ   тФВ   тФЬтФАтФА page.tsx
тФВ   тФЬтФАтФА visitors/
тФВ   тФВ   тФЬтФАтФА page.tsx
```

`/page-views`-ржП ржирзЗржнрж┐ржЧрзЗржЯ ржХрж░рж▓рзЗ `@analytics` рж╕рзНрж▓ржЯрзЗ `page-views` рж░рзЗржирзНржбрж╛рж░ рж╣ржмрзЗ, ржПржмржВ ржЕржирзНржп рж╕рзНрж▓ржЯржЧрзБрж▓рж┐ рждрж╛ржжрзЗрж░ Active State ржмржЬрж╛ржпрж╝ рж░рж╛ржЦржмрзЗред

---

### рзк. `useSelectedLayoutSegment` ржмрзНржпржмрж╣рж╛рж░ ржХрж░рзЗ Active Segment ржкржбрж╝рж╛

ржЖржкржирж┐ `useSelectedLayoutSegment` ржмрж╛ `useSelectedLayoutSegments` рж╣рзБржХ ржмрзНржпржмрж╣рж╛рж░ ржХрж░рзЗ ржПржХржЯрж┐ рж╕рзНрж▓ржЯрзЗрж░ Active Segment ржкржбрж╝рждрзЗ ржкрж╛рж░рзЗржиред

**ржЙржжрж╛рж╣рж░ржг:**
```typescript
// app/layout.tsx
'use client'

import { useSelectedLayoutSegment } from 'next/navigation'

export default function Layout({ auth }: { auth: React.ReactNode }) {
  const loginSegment = useSelectedLayoutSegment('auth');
  return (
    <>
      {auth}
      <p>Active Segment: {loginSegment}</p>
    </>
  );
}
```

ржпржЦржи ржмрзНржпржмрж╣рж╛рж░ржХрж╛рж░рзА `app/@auth/login`-ржП ржирзЗржнрж┐ржЧрзЗржЯ ржХрж░рзЗ, `loginSegment` рж╣ржмрзЗ `"login"`ред

---

### рзл. рж╢рж░рзНрждрж╕рж╛ржкрзЗржХрзНрж╖ рж░рж╛ржЙржЯ (Conditional Routes)

Parallel Routes ржмрзНржпржмрж╣рж╛рж░ ржХрж░рзЗ ржЖржкржирж┐ рж╢рж░рзНрждрж╕рж╛ржкрзЗржХрзНрж╖рзЗ рж░рж╛ржЙржЯ рж░рзЗржирзНржбрж╛рж░ ржХрж░рждрзЗ ржкрж╛рж░рзЗржиред ржЙржжрж╛рж╣рж░ржгрж╕рзНржмрж░рзВржк, ржмрзНржпржмрж╣рж╛рж░ржХрж╛рж░рзАрж░ рж░рзЛрж▓рзЗрж░ ржнрж┐рждрзНрждрж┐рждрзЗ ржЖрж▓рж╛ржжрж╛ ржбрзНржпрж╛рж╢ржмрзЛрж░рзНржб ржжрзЗржЦрж╛ржирзЛред

**ржЙржжрж╛рж╣рж░ржг:**
```typescript
// app/dashboard/layout.tsx
import { checkUserRole } from '@/lib/auth'

export default function Layout({
  user,
  admin,
}: {
  user: React.ReactNode;
  admin: React.ReactNode;
}) {
  const role = checkUserRole();
  return role === 'admin' ? admin : user;
}
```

---

### рзм. ржЯрзНржпрж╛ржм ржЧрзНрж░рзБржк рждрзИрж░рж┐ ржХрж░рж╛

ржПржХржЯрж┐ рж╕рзНрж▓ржЯрзЗрж░ ржнрж┐рждрж░рзЗ рж▓рзЗржЖржЙржЯ рждрзИрж░рж┐ ржХрж░рзЗ ржЖржкржирж┐ ржЯрзНржпрж╛ржм-ржнрж┐рждрзНрждрж┐ржХ ржирзЗржнрж┐ржЧрзЗрж╢ржи рждрзИрж░рж┐ ржХрж░рждрзЗ ржкрж╛рж░рзЗржиред

**ржЙржжрж╛рж╣рж░ржг:**
```typescript
// app/@analytics/layout.tsx
import Link from 'next/link'

export default function Layout({ children }: { children: React.ReactNode }) {
  return (
    <>
      <nav>
        <Link href="/page-views">Page Views</Link>
        <Link href="/visitors">Visitors</Link>
      </nav>
      <div>{children}</div>
    </>
  );
}
```

---

### рзн. ржорзЛржбрж╛рж▓ рждрзИрж░рж┐ ржХрж░рж╛

Parallel Routes ржПржмржВ Intercepting Routes ржПржХрж╕рж╛ржерзЗ ржмрзНржпржмрж╣рж╛рж░ ржХрж░рзЗ ржЖржкржирж┐ ржбрж┐ржк рж▓рж┐ржЩрзНржХрж┐ржВ рж╕рж╛ржкрзЛрж░рзНржЯ ржХрж░рзЗ ржПржоржи ржорзЛржбрж╛рж▓ рждрзИрж░рж┐ ржХрж░рждрзЗ ржкрж╛рж░рзЗржиред

**ржзрж╛ржк:**
1. ржПржХржЯрж┐ `/login` рж░рж╛ржЙржЯ рждрзИрж░рж┐ ржХрж░рзБржи ржпрж╛ ржорзВрж▓ рж▓ржЧржЗржи ржкрзГрж╖рзНржарж╛ рж░рзЗржирзНржбрж╛рж░ ржХрж░рзЗред
2. `@auth` рж╕рзНрж▓ржЯрзЗ `default.tsx` ржлрж╛ржЗрж▓ рждрзИрж░рж┐ ржХрж░рзБржи ржпрж╛ `null` рж░рж┐ржЯрж╛рж░рзНржи ржХрж░рзЗред
3. `@auth/(.)login/page.tsx` ржлрж╛ржЗрж▓рзЗ ржорзЛржбрж╛рж▓ ржХржорзНржкрзЛржирзЗржирзНржЯ рждрзИрж░рж┐ ржХрж░рзБржиред

**ржЙржжрж╛рж╣рж░ржг:**
```typescript
// app/@auth/(.)login/page.tsx
import { Modal } from '@/app/ui/modal'
import { Login } from '@/app/ui/login'

export default function Page() {
  return (
    <Modal>
      <Login />
    </Modal>
  );
}
```

**ржорзЛржбрж╛рж▓ ржЦрзЛрж▓рж╛ ржПржмржВ ржмржирзНржз ржХрж░рж╛:**
```typescript
// app/layout.tsx
import Link from 'next/link'

export default function Layout({
  auth,
  children,
}: {
  auth: React.ReactNode;
  children: React.ReactNode;
}) {
  return (
    <>
      <nav>
        <Link href="/login">Open modal</Link>
      </nav>
      <div>{auth}</div>
      <div>{children}</div>
    </>
  );
}
```

```typescript
// app/ui/modal.tsx
'use client'

import { useRouter } from 'next/navigation'

export function Modal({ children }: { children: React.ReactNode }) {
  const router = useRouter()
  return (
    <>
      <button onClick={() => router.back()}>Close modal</button>
      <div>{children}</div>
    </>
  );
}
```

---

### рзо. рж▓рзЛржбрж┐ржВ ржПржмржВ ржПрж░рж░ UI

Parallel Routes-ржХрзЗ ржЖрж▓рж╛ржжрж╛ржнрж╛ржмрзЗ рж╕рзНржЯрзНрж░рж┐ржо ржХрж░рж╛ ржпрж╛ржпрж╝, ржпрж╛рж░ ржлрж▓рзЗ ржЖржкржирж┐ ржкрзНрж░рждрж┐ржЯрж┐ рж░рж╛ржЙржЯрзЗрж░ ржЬржирзНржп ржЖрж▓рж╛ржжрж╛ рж▓рзЛржбрж┐ржВ ржПржмржВ ржПрж░рж░ UI рждрзИрж░рж┐ ржХрж░рждрзЗ ржкрж╛рж░рзЗржиред

**ржЙржжрж╛рж╣рж░ржг:**
```typescript
// app/@analytics/loading.tsx
export default function Loading() {
  return <p>Loading analytics...</p>;
}
```

---

### рж╢рзЗрж╖ ржХржерж╛

Parallel Routes Next.js-ржПрж░ ржПржХржЯрж┐ рж╢ржХрзНрждрж┐рж╢рж╛рж▓рзА ржлрж┐ржЪрж╛рж░ ржпрж╛ ржЖржкржирж╛ржХрзЗ ржбрж╛ржпрж╝ржирж╛ржорж┐ржХ ржПржмржВ ржЗржирзНржЯрж╛рж░ржЕрзНржпрж╛ржХрзНржЯрж┐ржн ржЗржЙржЬрж╛рж░ ржЗржирзНржЯрж╛рж░ржлрзЗрж╕ рждрзИрж░рж┐ ржХрж░рждрзЗ рж╕рж╛рж╣рж╛ржпрзНржп ржХрж░рзЗред ржПржЗ ржЯрж┐ржЙржЯрзЛрж░рж┐ржпрж╝рж╛рж▓рзЗ ржЖржорж░рж╛ Parallel Routes-ржПрж░ ржмрж┐ржнрж┐ржирзНржи ржжрж┐ржХ рж╢рж┐ржЦрзЗржЫрж┐, ржпрзЗржоржи рж╕рзНрж▓ржЯ рждрзИрж░рж┐ ржХрж░рж╛, рж╢рж░рзНрждрж╕рж╛ржкрзЗржХрзНрж╖ рж░рж╛ржЙржЯ, ржорзЛржбрж╛рж▓ рждрзИрж░рж┐ ржХрж░рж╛ ржПржмржВ рж▓рзЛржбрж┐ржВ/ржПрж░рж░ UI ржмрзНржпржмрж╕рзНржерж╛ржкржирж╛ред

ржПржЗ ржлрж┐ржЪрж╛рж░ржЯрж┐ ржмрзНржпржмрж╣рж╛рж░ ржХрж░рзЗ ржЖржкржирж┐ ржЖрж░ржУ ржжржХрзНрж╖ ржПржмржВ ржЗржЙржЬрж╛рж░-ржлрзНрж░рзЗржирзНржбрж▓рж┐ ржЕрзНржпрж╛ржкрзНрж▓рж┐ржХрзЗрж╢ржи рждрзИрж░рж┐ ржХрж░рждрзЗ ржкрж╛рж░ржмрзЗржиред

Happy Coding! ЁЯЪА
</details>
<details> 
 <summary> Intercepting Routes</summary>
 ### Next.js-ржП Intercepting Routes: рж╕ржорзНржкрзВрж░рзНржг ржЯрж┐ржЙржЯрзЛрж░рж┐ржпрж╝рж╛рж▓ (ржмрж╛ржВрж▓рж╛ржпрж╝)

Intercepting Routes Next.js-ржПрж░ ржПржХржЯрж┐ рж╢ржХрзНрждрж┐рж╢рж╛рж▓рзА ржлрж┐ржЪрж╛рж░ ржпрж╛ ржЖржкржирж╛ржХрзЗ ржмрж░рзНрждржорж╛ржи рж▓рзЗржЖржЙржЯрзЗрж░ ржоржзрзНржпрзЗ ржЕржирзНржп ржПржХржЯрж┐ рж░рж╛ржЙржЯрзЗрж░ ржХржирзНржЯрзЗржирзНржЯ рж▓рзЛржб ржХрж░рждрзЗ ржжрзЗржпрж╝ред ржПржЯрж┐ ржмрж┐рж╢рзЗрж╖ржнрж╛ржмрзЗ ржЙржкржпрзЛржЧрзА ржпржЦржи ржЖржкржирж┐ ржмрзНржпржмрж╣рж╛рж░ржХрж╛рж░рзАржХрзЗ рж╕ржорзНржкрзВрж░рзНржг ржкрзГрж╖рзНржарж╛ ржкрж░рж┐ржмрж░рзНрждржи ржирж╛ ржХрж░рзЗ ржПржХржЯрж┐ ржорзЛржбрж╛рж▓ ржмрж╛ ржУржнрж╛рж░рж▓рзЗ ржорж╛ржзрзНржпржорзЗ ржХржирзНржЯрзЗржирзНржЯ ржжрзЗржЦрж╛рждрзЗ ржЪрж╛ржиред

ржПржЗ ржЯрж┐ржЙржЯрзЛрж░рж┐ржпрж╝рж╛рж▓рзЗ ржЖржорж░рж╛ Intercepting Routes-ржПрж░ ржзрж╛рж░ржгрж╛, ржмрзНржпржмрж╣рж╛рж░рзЗрж░ ржкржжрзНржзрждрж┐ ржПржмржВ ржХрж┐ржЫрзБ ржмрзНржпржмрж╣рж╛рж░рж┐ржХ ржЙржжрж╛рж╣рж░ржг рж╢рж┐ржЦржмред

---

### рзз. Intercepting Routes ржХрзА?

Intercepting Routes ржЖржкржирж╛ржХрзЗ ржПржХржЯрж┐ рж░рж╛ржЙржЯрзЗрж░ ржХржирзНржЯрзЗржирзНржЯ ржмрж░рзНрждржорж╛ржи рж▓рзЗржЖржЙржЯрзЗрж░ ржоржзрзНржпрзЗ рж▓рзЛржб ржХрж░рждрзЗ ржжрзЗржпрж╝ред ржЙржжрж╛рж╣рж░ржгрж╕рзНржмрж░рзВржк, ржПржХржЯрж┐ ржлрж┐ржбрзЗ ржерж╛ржХрж╛ ржлржЯрзЛ ржХрзНрж▓рж┐ржХ ржХрж░рж▓рзЗ, ржЖржкржирж┐ ржлржЯрзЛржЯрж┐ ржПржХржЯрж┐ ржорзЛржбрж╛рж▓рзЗ ржжрзЗржЦрж╛рждрзЗ ржкрж╛рж░рзЗржи, ржпрзЗржЦрж╛ржирзЗ URL ржкрж░рж┐ржмрж░рзНрждржи рж╣ржпрж╝ ржирж╛ ржПржмржВ ржлрж┐ржб ржкрзГрж╖рзНржарж╛ ржУржнрж╛рж░рж▓рзЗ рж╣рж┐рж╕рзЗржмрзЗ ржерж╛ржХрзЗред

**ржЙржжрж╛рж╣рж░ржг:**
- ржлрж┐ржб ржкрзГрж╖рзНржарж╛: `/feed`
- ржлржЯрзЛ ржкрзГрж╖рзНржарж╛: `/photo/123`
- ржорзЛржбрж╛рж▓рзЗ ржлржЯрзЛ ржжрзЗржЦрж╛ржирзЛ: `/feed` ржкрзГрж╖рзНржарж╛рж░ ржУржнрж╛рж░рж▓рзЗ рж╣рж┐рж╕рзЗржмрзЗ `/photo/123` ржжрзЗржЦрж╛ржирзЛред

---

### рзи. Intercepting Routes ржХржиржнрзЗржирж╢ржи

Intercepting Routes рждрзИрж░рж┐ ржХрж░рждрзЗ Next.js-ржП `(..)` ржХржиржнрзЗржирж╢ржи ржмрзНржпржмрж╣рж╛рж░ ржХрж░рж╛ рж╣ржпрж╝ред ржПржЯрж┐ рж░рж┐рж▓рзЗржЯрж┐ржн ржкрж╛ржерзЗрж░ ржорждрзЛ ржХрж╛ржЬ ржХрж░рзЗ, ржХрж┐ржирзНрждрзБ рж░рж╛ржЙржЯ рж╕рзЗржЧржорзЗржирзНржЯрзЗрж░ ржЬржирзНржпред

**ржХржиржнрзЗржирж╢ржи:**
- `(.)`: ржПржХржЗ рж▓рзЗржнрзЗрж▓рзЗрж░ рж╕рзЗржЧржорзЗржирзНржЯ ржорзНржпрж╛ржЪ ржХрж░рждрзЗред
- `(..)`: ржПржХ рж▓рзЗржнрзЗрж▓ ржЙржкрж░рзЗрж░ рж╕рзЗржЧржорзЗржирзНржЯ ржорзНржпрж╛ржЪ ржХрж░рждрзЗред
- `(..)(..)`: ржжрзБржЗ рж▓рзЗржнрзЗрж▓ ржЙржкрж░рзЗрж░ рж╕рзЗржЧржорзЗржирзНржЯ ржорзНржпрж╛ржЪ ржХрж░рждрзЗред
- `(...)`: рж░рзБржЯ ржбрж┐рж░рзЗржХрзНржЯрж░рж┐ ржерзЗржХрзЗ рж╕рзЗржЧржорзЗржирзНржЯ ржорзНржпрж╛ржЪ ржХрж░рждрзЗред

**ржЙржжрж╛рж╣рж░ржг:**
ржлрж┐ржб ржкрзГрж╖рзНржарж╛ ржерзЗржХрзЗ ржлржЯрзЛ рж╕рзЗржЧржорзЗржирзНржЯ ржЗржирзНржЯрж╛рж░рж╕рзЗржкрзНржЯ ржХрж░рждрзЗ:
```
app/
тФЬтФАтФА @modal/
тФВ   тФЬтФАтФА (..)photo/
тФВ   тФВ   тФЬтФАтФА [id]/
тФВ   тФВ   тФВ   тФЬтФАтФА page.tsx
тФЬтФАтФА feed/
тФВ   тФЬтФАтФА page.tsx
тФЬтФАтФА photo/
тФВ   тФЬтФАтФА [id]/
тФВ   тФВ   тФЬтФАтФА page.tsx
```

---

### рзй. ржорзЛржбрж╛рж▓ рждрзИрж░рж┐ ржХрж░рж╛

Intercepting Routes ржПржмржВ Parallel Routes ржПржХрж╕рж╛ржерзЗ ржмрзНржпржмрж╣рж╛рж░ ржХрж░рзЗ ржЖржкржирж┐ ржорзЛржбрж╛рж▓ рждрзИрж░рж┐ ржХрж░рждрзЗ ржкрж╛рж░рзЗржиред ржПржЯрж┐ ржирж┐ржорзНржирж▓рж┐ржЦрж┐ржд ржЪрзНржпрж╛рж▓рзЗржЮрзНржЬржЧрзБрж▓рж┐ рж╕ржорж╛ржзрж╛ржи ржХрж░рзЗ:
- ржорзЛржбрж╛рж▓ ржХржирзНржЯрзЗржирзНржЯ URL-ржПрж░ ржорж╛ржзрзНржпржорзЗ рж╢рзЗржпрж╝рж╛рж░ржпрзЛржЧрзНржп ржХрж░рж╛ред
- ржкрзГрж╖рзНржарж╛ рж░рж┐ржлрзНрж░рзЗрж╢ ржХрж░рж▓рзЗ ржорзЛржбрж╛рж▓ ржмржирзНржз ржирж╛ ржХрж░рзЗ ржХржирзНржЯрзЗржХрзНрж╕ржЯ рж╕ржВрж░ржХрзНрж╖ржг ржХрж░рж╛ред
- ржмрзНржпрж╛ржХржУржпрж╝рж╛рж░рзНржб ржирзЗржнрж┐ржЧрзЗрж╢ржирзЗ ржорзЛржбрж╛рж▓ ржмржирзНржз ржХрж░рж╛ред
- ржлрж░ржУржпрж╝рж╛рж░рзНржб ржирзЗржнрж┐ржЧрзЗрж╢ржирзЗ ржорзЛржбрж╛рж▓ ржкрзБржирж░рж╛ржпрж╝ ржЦрзЛрж▓рж╛ред

**ржзрж╛ржк:**
1. ржПржХржЯрж┐ `/photo/[id]` рж░рж╛ржЙржЯ рждрзИрж░рж┐ ржХрж░рзБржи ржпрж╛ ржорзВрж▓ ржлржЯрзЛ ржкрзГрж╖рзНржарж╛ рж░рзЗржирзНржбрж╛рж░ ржХрж░рзЗред
2. `@modal` рж╕рзНрж▓ржЯрзЗ `(..)photo/[id]/page.tsx` ржлрж╛ржЗрж▓ рждрзИрж░рж┐ ржХрж░рзБржи ржпрж╛ ржорзЛржбрж╛рж▓рзЗ ржлржЯрзЛ ржжрзЗржЦрж╛ржпрж╝ред

**ржЙржжрж╛рж╣рж░ржг:**
```typescript
// app/photo/[id]/page.tsx
export default function PhotoPage({ params }: { params: { id: string } }) {
  return <div>Photo Page: {params.id}</div>;
}
```

```typescript
// app/@modal/(..)photo/[id]/page.tsx
import { Modal } from '@/components/modal';

export default function PhotoModal({ params }: { params: { id: string } }) {
  return (
    <Modal>
      <div>Photo Modal: {params.id}</div>
    </Modal>
  );
}
```

**ржорзЛржбрж╛рж▓ ржЦрзЛрж▓рж╛ ржПржмржВ ржмржирзНржз ржХрж░рж╛:**
```typescript
// app/feed/page.tsx
import Link from 'next/link';

export default function FeedPage() {
  return (
    <div>
      <h1>Feed Page</h1>
      <Link href="/photo/123">Open Photo Modal</Link>
    </div>
  );
}
```

```typescript
// app/@modal/default.tsx
export default function DefaultModal() {
  return null;
}
```

---

### рзк. Intercepting Routes-ржПрж░ ржмрзНржпржмрж╣рж╛рж░рж┐ржХ ржЙржжрж╛рж╣рж░ржг

#### ржЙржжрж╛рж╣рж░ржг рзз: рж▓ржЧржЗржи ржорзЛржбрж╛рж▓
ржПржХржЯрж┐ ржирзЗржнржмрж╛рж░рзЗ рж▓ржЧржЗржи ржмрж╛ржЯржи ржХрзНрж▓рж┐ржХ ржХрж░рж▓рзЗ рж▓ржЧржЗржи ржорзЛржбрж╛рж▓ ржЦрзБрж▓ржмрзЗ, ржХрж┐ржирзНрждрзБ рж╕рж░рж╛рж╕рж░рж┐ `/login` URL-ржП ржЧрзЗрж▓рзЗ рж╕ржорзНржкрзВрж░рзНржг рж▓ржЧржЗржи ржкрзГрж╖рзНржарж╛ ржжрзЗржЦрж╛ржмрзЗред

**ржлрж╛ржЗрж▓ рж╕рзНржЯрзНрж░рж╛ржХржЪрж╛рж░:**
```
app/
тФЬтФАтФА @modal/
тФВ   тФЬтФАтФА (..)login/
тФВ   тФВ   тФЬтФАтФА page.tsx
тФЬтФАтФА login/
тФВ   тФЬтФАтФА page.tsx
```

**ржХрзЛржб:**
```typescript
// app/login/page.tsx
export default function LoginPage() {
  return <div>Login Page</div>;
}
```

```typescript
// app/@modal/(..)login/page.tsx
import { Modal } from '@/components/modal';

export default function LoginModal() {
  return (
    <Modal>
      <div>Login Modal</div>
    </Modal>
  );
}
```

#### ржЙржжрж╛рж╣рж░ржг рзи: рж╢ржкрж┐ржВ ржХрж╛рж░рзНржЯ ржорзЛржбрж╛рж▓
ржПржХржЯрж┐ ржЗ-ржХржорж╛рж░рзНрж╕ рж╕рж╛ржЗржЯрзЗ рж╢ржкрж┐ржВ ржХрж╛рж░рзНржЯ ржорзЛржбрж╛рж▓ рждрзИрж░рж┐ ржХрж░рзБржи, ржпрж╛ ржУржнрж╛рж░рж▓рзЗ рж╣рж┐рж╕рзЗржмрзЗ ржЦрзБрж▓ржмрзЗред

**ржлрж╛ржЗрж▓ рж╕рзНржЯрзНрж░рж╛ржХржЪрж╛рж░:**
```
app/
тФЬтФАтФА @modal/
тФВ   тФЬтФАтФА (..)cart/
тФВ   тФВ   тФЬтФАтФА page.tsx
тФЬтФАтФА cart/
тФВ   тФЬтФАтФА page.tsx
```

**ржХрзЛржб:**
```typescript
// app/cart/page.tsx
export default function CartPage() {
  return <div>Cart Page</div>;
}
```

```typescript
// app/@modal/(..)cart/page.tsx
import { Modal } from '@/components/modal';

export default function CartModal() {
  return (
    <Modal>
      <div>Cart Modal</div>
    </Modal>
  );
}
```

---

### рзл. Intercepting Routes-ржПрж░ рж╕рзБржмрж┐ржзрж╛

- **ржЗржЙржЬрж╛рж░ ржПржХрзНрж╕ржкрзЗрж░рж┐ржпрж╝рзЗржирзНрж╕ ржЙржирзНржиржд ржХрж░рж╛:** ржмрзНржпржмрж╣рж╛рж░ржХрж╛рж░рзАржХрзЗ рж╕ржорзНржкрзВрж░рзНржг ржкрзГрж╖рзНржарж╛ ржкрж░рж┐ржмрж░рзНрждржи ржирж╛ ржХрж░рзЗ ржУржнрж╛рж░рж▓рзЗ ржорж╛ржзрзНржпржорзЗ ржХржирзНржЯрзЗржирзНржЯ ржжрзЗржЦрж╛ржирзЛред
- **ржбрж┐ржк рж▓рж┐ржЩрзНржХрж┐ржВ:** ржорзЛржбрж╛рж▓ ржХржирзНржЯрзЗржирзНржЯ URL-ржПрж░ ржорж╛ржзрзНржпржорзЗ рж╢рзЗржпрж╝рж╛рж░ржпрзЛржЧрзНржпред
- **ржХржирзНржЯрзЗржХрзНрж╕ржЯ рж╕ржВрж░ржХрзНрж╖ржг:** ржкрзГрж╖рзНржарж╛ рж░рж┐ржлрзНрж░рзЗрж╢ ржХрж░рж▓рзЗ ржорзЛржбрж╛рж▓ ржмржирзНржз ржирж╛ ржХрж░рзЗ ржХржирзНржЯрзЗржХрзНрж╕ржЯ рж╕ржВрж░ржХрзНрж╖ржг ржХрж░рж╛ред

---

### рж╢рзЗрж╖ ржХржерж╛

Intercepting Routes Next.js-ржПрж░ ржПржХржЯрж┐ рж╢ржХрзНрждрж┐рж╢рж╛рж▓рзА ржлрж┐ржЪрж╛рж░ ржпрж╛ ржЖржкржирж╛ржХрзЗ ржЖрж░ржУ ржЗржирзНржЯрж╛рж░ржЕрзНржпрж╛ржХрзНржЯрж┐ржн ржПржмржВ ржЗржЙржЬрж╛рж░-ржлрзНрж░рзЗржирзНржбрж▓рж┐ ржЕрзНржпрж╛ржкрзНрж▓рж┐ржХрзЗрж╢ржи рждрзИрж░рж┐ ржХрж░рждрзЗ рж╕рж╛рж╣рж╛ржпрзНржп ржХрж░рзЗред ржПржЗ ржЯрж┐ржЙржЯрзЛрж░рж┐ржпрж╝рж╛рж▓рзЗ ржЖржорж░рж╛ Intercepting Routes-ржПрж░ ржзрж╛рж░ржгрж╛, ржХржиржнрзЗржирж╢ржи ржПржмржВ ржмрзНржпржмрж╣рж╛рж░рж┐ржХ ржЙржжрж╛рж╣рж░ржг рж╢рж┐ржЦрзЗржЫрж┐ред

ржПржЗ ржлрж┐ржЪрж╛рж░ржЯрж┐ ржмрзНржпржмрж╣рж╛рж░ ржХрж░рзЗ ржЖржкржирж┐ ржорзЛржбрж╛рж▓, ржУржнрж╛рж░рж▓рзЗ ржПржмржВ ржЕржирзНржпрж╛ржирзНржп ржбрж╛ржпрж╝ржирж╛ржорж┐ржХ UI ржХржорзНржкрзЛржирзЗржирзНржЯ рждрзИрж░рж┐ ржХрж░рждрзЗ ржкрж╛рж░ржмрзЗржиред

Happy Coding! ЁЯЪА
</details>
<details> 
 <summary> Route Handlers</summary>
 ### Next.js-ржП Route Handlers: рж╕ржорзНржкрзВрж░рзНржг ржЯрж┐ржЙржЯрзЛрж░рж┐ржпрж╝рж╛рж▓ (ржмрж╛ржВрж▓рж╛ржпрж╝)

Route Handlers Next.js-ржПрж░ ржПржХржЯрж┐ рж╢ржХрзНрждрж┐рж╢рж╛рж▓рзА ржлрж┐ржЪрж╛рж░ ржпрж╛ ржЖржкржирж╛ржХрзЗ ржУржпрж╝рзЗржм рж░рж┐ржХрзЛржпрж╝рзЗрж╕рзНржЯ ржПржмржВ рж░рзЗрж╕ржкржирзНрж╕ API ржмрзНржпржмрж╣рж╛рж░ ржХрж░рзЗ ржХрж╛рж╕рзНржЯржо рж░рж┐ржХрзЛржпрж╝рзЗрж╕рзНржЯ рж╣рзНржпрж╛ржирзНржбрж▓рж╛рж░ рждрзИрж░рж┐ ржХрж░рждрзЗ ржжрзЗржпрж╝ред ржПржЯрж┐ API рж░рж╛ржЙржЯрзЗрж░ рж╕ржорждрзБрж▓рзНржп, ржХрж┐ржирзНрждрзБ `app` ржбрж┐рж░рзЗржХрзНржЯрж░рж┐рж░ ржоржзрзНржпрзЗ ржмрзНржпржмрж╣рж╛рж░ ржХрж░рж╛ рж╣ржпрж╝ред ржПржЗ ржЯрж┐ржЙржЯрзЛрж░рж┐ржпрж╝рж╛рж▓рзЗ ржЖржорж░рж╛ Route Handlers-ржПрж░ ржзрж╛рж░ржгрж╛, ржмрзНржпржмрж╣рж╛рж░рзЗрж░ ржкржжрзНржзрждрж┐ ржПржмржВ ржХрж┐ржЫрзБ ржмрзНржпржмрж╣рж╛рж░рж┐ржХ ржЙржжрж╛рж╣рж░ржг рж╢рж┐ржЦржмред

---

### рзз. Route Handlers ржХрзА?

Route Handlers ржЖржкржирж╛ржХрзЗ ржПржХржЯрж┐ ржирж┐рж░рзНржжрж┐рж╖рзНржЯ рж░рж╛ржЙржЯрзЗрж░ ржЬржирзНржп ржХрж╛рж╕рзНржЯржо рж░рж┐ржХрзЛржпрж╝рзЗрж╕рзНржЯ рж╣рзНржпрж╛ржирзНржбрж▓рж╛рж░ рждрзИрж░рж┐ ржХрж░рждрзЗ ржжрзЗржпрж╝ред ржПржЯрж┐ `app` ржбрж┐рж░рзЗржХрзНржЯрж░рж┐рж░ ржоржзрзНржпрзЗ `route.js` ржмрж╛ `route.ts` ржлрж╛ржЗрж▓рзЗ рж╕ржВржЬрзНржЮрж╛ржпрж╝рж┐ржд ржХрж░рж╛ рж╣ржпрж╝ред ржПржЯрж┐ API рж░рж╛ржЙржЯрзЗрж░ ржорждрзЛ ржХрж╛ржЬ ржХрж░рзЗ, ржХрж┐ржирзНрждрзБ `pages` ржбрж┐рж░рзЗржХрзНржЯрж░рж┐рж░ ржкрж░рж┐ржмрж░рзНрждрзЗ `app` ржбрж┐рж░рзЗржХрзНржЯрж░рж┐рждрзЗ ржмрзНржпржмрж╣рж╛рж░ ржХрж░рж╛ рж╣ржпрж╝ред

**ржЙржжрж╛рж╣рж░ржг:**
```typescript
// app/api/route.ts
export async function GET(request: Request) {
  return new Response('Hello, Next.js!');
}
```

**ржЬрж╛ржирж╛рж░ ржмрж┐рж╖ржпрж╝:**
- Route Handlers рж╢рзБржзрзБржорж╛рждрзНрж░ `app` ржбрж┐рж░рзЗржХрзНржЯрж░рж┐рж░ ржоржзрзНржпрзЗ ржмрзНржпржмрж╣рж╛рж░ ржХрж░рж╛ ржпрж╛ржпрж╝ред
- `page.js` ржПржмржВ `route.js` ржПржХржЗ рж░рж╛ржЙржЯ рж╕рзЗржЧржорзЗржирзНржЯрзЗ ржерж╛ржХрждрзЗ ржкрж╛рж░рзЗ ржирж╛ред

---

### рзи. Route Handlers ржХржиржнрзЗржирж╢ржи

Route Handlers `route.js` ржмрж╛ `route.ts` ржлрж╛ржЗрж▓рзЗ рж╕ржВржЬрзНржЮрж╛ржпрж╝рж┐ржд ржХрж░рж╛ рж╣ржпрж╝ ржПржмржВ `app` ржбрж┐рж░рзЗржХрзНржЯрж░рж┐рж░ ржоржзрзНржпрзЗ ржпрзЗржХрзЛржирзЛ ржЬрж╛ржпрж╝ржЧрж╛ржпрж╝ ржирзЗрж╕рзНржЯрзЗржб рж╣рждрзЗ ржкрж╛рж░рзЗред

**ржлрж╛ржЗрж▓ рж╕рзНржЯрзНрж░рж╛ржХржЪрж╛рж░:**
```
app/
тФЬтФАтФА api/
тФВ   тФЬтФАтФА route.ts
```

**ржЙржжрж╛рж╣рж░ржг:**
```typescript
// app/api/route.ts
export async function GET(request: Request) {
  return new Response('Hello, Next.js!');
}
```

---

### рзй. рж╕ржорж░рзНржерж┐ржд HTTP ржорзЗржержб

Route Handlers ржирж┐ржорзНржирж▓рж┐ржЦрж┐ржд HTTP ржорзЗржержб рж╕ржорж░рзНржержи ржХрж░рзЗ: `GET`, `POST`, `PUT`, `PATCH`, `DELETE`, `HEAD`, ржПржмржВ `OPTIONS`ред ржпржжрж┐ ржПржХржЯрж┐ ржЕрж╕ржорж░рзНржерж┐ржд ржорзЗржержб ржХрж▓ ржХрж░рж╛ рж╣ржпрж╝, Next.js ржПржХржЯрж┐ `405 Method Not Allowed` рж░рзЗрж╕ржкржирзНрж╕ рж░рж┐ржЯрж╛рж░рзНржи ржХрж░ржмрзЗред

**ржЙржжрж╛рж╣рж░ржг:**
```typescript
// app/api/route.ts
export async function POST(request: Request) {
  return new Response('Created!', { status: 201 });
}
```

---

### рзк. ржХрзНржпрж╛рж╢рж┐ржВ

Route Handlers ржбрж┐ржлрж▓рзНржЯржнрж╛ржмрзЗ ржХрзНржпрж╛рж╢ ржХрж░рж╛ рж╣ржпрж╝ ржирж╛ред рждржмрзЗ `GET` ржорзЗржержбрзЗрж░ ржЬржирзНржп ржХрзНржпрж╛рж╢рж┐ржВ ржЪрж╛рж▓рзБ ржХрж░рж╛ ржпрж╛ржпрж╝ред ржЕржирзНржпрж╛ржирзНржп HTTP ржорзЗржержб ржХрзНржпрж╛рж╢ ржХрж░рж╛ ржпрж╛ржпрж╝ ржирж╛ред

**ржЙржжрж╛рж╣рж░ржг:**
```typescript
// app/items/route.ts
export const dynamic = 'force-static';

export async function GET() {
  const res = await fetch('https://api.example.com/items');
  const data = await res.json();
  return Response.json({ data });
}
```

---

### рзл. ржХрзБржХрж┐ржЬ ржПржмржВ рж╣рзЗржбрж╛рж░

Route Handlers-ржП ржХрзБржХрж┐ржЬ ржПржмржВ рж╣рзЗржбрж╛рж░ ржкржбрж╝рж╛ ржПржмржВ рж╕рзЗржЯ ржХрж░рж╛ ржпрж╛ржпрж╝ред

**ржХрзБржХрж┐ржЬ ржкржбрж╝рж╛:**
```typescript
// app/api/route.ts
import { cookies } from 'next/headers';

export async function GET(request: Request) {
  const cookieStore = cookies();
  const token = cookieStore.get('token');
  return new Response('Hello, Next.js!', {
    headers: { 'Set-Cookie': `token=${token?.value}` },
  });
}
```

**рж╣рзЗржбрж╛рж░ ржкржбрж╝рж╛:**
```typescript
// app/api/route.ts
import { headers } from 'next/headers';

export async function GET(request: Request) {
  const headersList = headers();
  const referer = headersList.get('referer');
  return new Response('Hello, Next.js!', {
    headers: { referer: referer || '' },
  });
}
```

---

### рзм. рж░рж┐ржбрж╛ржЗрж░рзЗржХрзНржЯ

Route Handlers-ржП рж░рж┐ржбрж╛ржЗрж░рзЗржХрзНржЯ ржХрж░рж╛ ржпрж╛ржпрж╝ред

**ржЙржжрж╛рж╣рж░ржг:**
```typescript
// app/api/route.ts
import { redirect } from 'next/navigation';

export async function GET(request: Request) {
  redirect('https://nextjs.org/');
}
```

---

### рзн. ржбрж╛ржпрж╝ржирж╛ржорж┐ржХ рж░рж╛ржЙржЯ рж╕рзЗржЧржорзЗржирзНржЯ

Route Handlers ржбрж╛ржпрж╝ржирж╛ржорж┐ржХ рж╕рзЗржЧржорзЗржирзНржЯ ржмрзНржпржмрж╣рж╛рж░ ржХрж░рзЗ ржбрж╛ржпрж╝ржирж╛ржорж┐ржХ ржбрзЗржЯрж╛ ржерзЗржХрзЗ рж░рж┐ржХрзЛржпрж╝рзЗрж╕рзНржЯ рж╣рзНржпрж╛ржирзНржбрж▓рж╛рж░ рждрзИрж░рж┐ ржХрж░рждрзЗ ржкрж╛рж░рзЗред

**ржЙржжрж╛рж╣рж░ржг:**
```typescript
// app/items/[slug]/route.ts
export async function GET(
  request: Request,
  { params }: { params: { slug: string } }
) {
  const { slug } = params;
  return new Response(`Item: ${slug}`);
}
```

---

### рзо. URL ржХрзБржпрж╝рзЗрж░рж┐ ржкрзНржпрж╛рж░рж╛ржорж┐ржЯрж╛рж░

Route Handlers-ржП URL ржХрзБржпрж╝рзЗрж░рж┐ ржкрзНржпрж╛рж░рж╛ржорж┐ржЯрж╛рж░ ржкржбрж╝рж╛ ржпрж╛ржпрж╝ред

**ржЙржжрж╛рж╣рж░ржг:**
```typescript
// app/api/search/route.ts
import { type NextRequest } from 'next/server';

export function GET(request: NextRequest) {
  const searchParams = request.nextUrl.searchParams;
  const query = searchParams.get('query');
  return new Response(`Search Query: ${query}`);
}
```

---

### рзп. рж╕рзНржЯрзНрж░рж┐ржорж┐ржВ

Route Handlers-ржП рж╕рзНржЯрзНрж░рж┐ржорж┐ржВ ржмрзНржпржмрж╣рж╛рж░ ржХрж░рзЗ ржмржбрж╝ ржбрзЗржЯрж╛ рж╕рзНржЯрзНрж░рж┐ржо ржХрж░рж╛ ржпрж╛ржпрж╝ред

**ржЙржжрж╛рж╣рж░ржг:**
```typescript
// app/api/chat/route.ts
import { StreamingTextResponse, streamText } from 'ai';

export async function POST(req: Request) {
  const { messages } = await req.json();
  const result = await streamText({
    model: 'gpt-4',
    messages,
  });
  return new StreamingTextResponse(result.toAIStream());
}
```

---

### рззрзж. рж░рж┐ржХрзЛржпрж╝рзЗрж╕рзНржЯ ржмржбрж┐

Route Handlers-ржП рж░рж┐ржХрзЛржпрж╝рзЗрж╕рзНржЯ ржмржбрж┐ ржкржбрж╝рж╛ ржпрж╛ржпрж╝ред

**ржЙржжрж╛рж╣рж░ржг:**
```typescript
// app/items/route.ts
export async function POST(request: Request) {
  const res = await request.json();
  return Response.json({ res });
}
```

---

### рззрзз. CORS

Route Handlers-ржП CORS рж╣рзЗржбрж╛рж░ рж╕рзЗржЯ ржХрж░рж╛ ржпрж╛ржпрж╝ред

**ржЙржжрж╛рж╣рж░ржг:**
```typescript
// app/api/route.ts
export async function GET(request: Request) {
  return new Response('Hello, Next.js!', {
    headers: {
      'Access-Control-Allow-Origin': '*',
      'Access-Control-Allow-Methods': 'GET, POST, PUT, DELETE, OPTIONS',
      'Access-Control-Allow-Headers': 'Content-Type, Authorization',
    },
  });
}
```

---

### рззрзи. ржУржпрж╝рзЗржмрж╣рзБржХ

Route Handlers ржмрзНржпржмрж╣рж╛рж░ ржХрж░рзЗ рждрзГрждрзАржпрж╝-ржкржХрзНрж╖ рж╕рж╛рж░рзНржнрж┐рж╕ ржерзЗржХрзЗ ржУржпрж╝рзЗржмрж╣рзБржХ рж░рж┐рж╕рж┐ржн ржХрж░рж╛ ржпрж╛ржпрж╝ред

**ржЙржжрж╛рж╣рж░ржг:**
```typescript
// app/api/route.ts
export async function POST(request: Request) {
  try {
    const text = await request.text();
    // ржУржпрж╝рзЗржмрж╣рзБржХ ржкрзЗрж▓рзЛржб ржкрзНрж░рж╕рзЗрж╕ ржХрж░рзБржи
  } catch (error) {
    return new Response(`Webhook error: ${error.message}`, {
      status: 400,
    });
  }
  return new Response('Success!', { status: 200 });
}
```

---

### рззрзй. ржиржи-UI рж░рзЗрж╕ржкржирзНрж╕

Route Handlers ржмрзНржпржмрж╣рж╛рж░ ржХрж░рзЗ ржиржи-UI ржХржирзНржЯрзЗржирзНржЯ рж░рж┐ржЯрж╛рж░рзНржи ржХрж░рж╛ ржпрж╛ржпрж╝, ржпрзЗржоржи RSS ржлрж┐ржб, robots.txt, ржЗрждрзНржпрж╛ржжрж┐ред

**ржЙржжрж╛рж╣рж░ржг:**
```typescript
// app/rss.xml/route.ts
export async function GET() {
  return new Response(
    `<?xml version="1.0" encoding="UTF-8" ?>
<rss version="2.0">
<channel>
  <title>Next.js Documentation</title>
  <link>https://nextjs.org/docs</link>
  <description>The React Framework for the Web</description>
</channel>
</rss>`,
    {
      headers: {
        'Content-Type': 'text/xml',
      },
    }
  );
}
```

---

### рж╢рзЗрж╖ ржХржерж╛

Route Handlers Next.js-ржПрж░ ржПржХржЯрж┐ рж╢ржХрзНрждрж┐рж╢рж╛рж▓рзА ржлрж┐ржЪрж╛рж░ ржпрж╛ ржЖржкржирж╛ржХрзЗ ржХрж╛рж╕рзНржЯржо API ржПржирзНржбржкржпрж╝рзЗржирзНржЯ рждрзИрж░рж┐ ржХрж░рждрзЗ ржПржмржВ ржмрж┐ржнрж┐ржирзНржи HTTP ржорзЗржержб рж╣рзНржпрж╛ржирзНржбрж▓ ржХрж░рждрзЗ рж╕рж╛рж╣рж╛ржпрзНржп ржХрж░рзЗред ржПржЗ ржЯрж┐ржЙржЯрзЛрж░рж┐ржпрж╝рж╛рж▓рзЗ ржЖржорж░рж╛ Route Handlers-ржПрж░ ржмрж┐ржнрж┐ржирзНржи ржжрж┐ржХ рж╢рж┐ржЦрзЗржЫрж┐, ржпрзЗржоржи ржХрзБржХрж┐ржЬ ржПржмржВ рж╣рзЗржбрж╛рж░ ржорзНржпрж╛ржирж┐ржкрзБрж▓рзЗрж╢ржи, рж░рж┐ржбрж╛ржЗрж░рзЗржХрзНржЯ, ржбрж╛ржпрж╝ржирж╛ржорж┐ржХ рж░рж╛ржЙржЯ рж╕рзЗржЧржорзЗржирзНржЯ, рж╕рзНржЯрзНрж░рж┐ржорж┐ржВ, ржПржмржВ ржУржпрж╝рзЗржмрж╣рзБржХред

ржПржЗ ржлрж┐ржЪрж╛рж░ржЯрж┐ ржмрзНржпржмрж╣рж╛рж░ ржХрж░рзЗ ржЖржкржирж┐ ржЖрж░ржУ ржжржХрзНрж╖ ржПржмржВ рж╕рзНржХрзЗрж▓рзЗржмрж▓ API рждрзИрж░рж┐ ржХрж░рждрзЗ ржкрж╛рж░ржмрзЗржиред

Happy Coding! ЁЯЪА
</details>
<details> 
 <summary>Middleware </summary>
 ### Next.js-ржП Middleware: рж╕ржорзНржкрзВрж░рзНржг ржЯрж┐ржЙржЯрзЛрж░рж┐ржпрж╝рж╛рж▓ (ржмрж╛ржВрж▓рж╛ржпрж╝)

Middleware Next.js-ржПрж░ ржПржХржЯрж┐ рж╢ржХрзНрждрж┐рж╢рж╛рж▓рзА ржлрж┐ржЪрж╛рж░ ржпрж╛ ржЖржкржирж╛ржХрзЗ рж░рж┐ржХрзЛржпрж╝рзЗрж╕рзНржЯ рж╕ржорзНржкрзВрж░рзНржг рж╣ржУржпрж╝рж╛рж░ ржЖржЧрзЗ ржХрзЛржб рж░рж╛ржи ржХрж░рждрзЗ ржжрзЗржпрж╝ред ржПрж░ ржорж╛ржзрзНржпржорзЗ ржЖржкржирж┐ рж░рж┐ржХрзЛржпрж╝рзЗрж╕рзНржЯ ржмрж╛ рж░рзЗрж╕ржкржирзНрж╕ рж╣рзЗржбрж╛рж░ ржоржбрж┐ржлрж╛ржЗ ржХрж░рждрзЗ ржкрж╛рж░рзЗржи, рж░рж┐ржбрж╛ржЗрж░рзЗржХрзНржЯ ржмрж╛ рж░рж┐рж░рж╛ржЗржЯ ржХрж░рждрзЗ ржкрж╛рж░рзЗржи, ржмрж╛ рж╕рж░рж╛рж╕рж░рж┐ рж░рзЗрж╕ржкржирзНрж╕ ржжрж┐рждрзЗ ржкрж╛рж░рзЗржиред Middleware ржХрзНржпрж╛рж╢ржб ржХржирзНржЯрзЗржирзНржЯ ржПржмржВ рж░рж╛ржЙржЯ ржорзНржпрж╛ржЪ рж╣ржУржпрж╝рж╛рж░ ржЖржЧрзЗ рж░рж╛ржи рж╣ржпрж╝ред

ржПржЗ ржЯрж┐ржЙржЯрзЛрж░рж┐ржпрж╝рж╛рж▓рзЗ ржЖржорж░рж╛ Middleware-ржПрж░ ржзрж╛рж░ржгрж╛, ржмрзНржпржмрж╣рж╛рж░рзЗрж░ ржкржжрзНржзрждрж┐ ржПржмржВ ржХрж┐ржЫрзБ ржмрзНржпржмрж╣рж╛рж░рж┐ржХ ржЙржжрж╛рж╣рж░ржг рж╢рж┐ржЦржмред

---

### рзз. Middleware ржХрзА?

Middleware ржЖржкржирж╛ржХрзЗ рж░рж┐ржХрзЛржпрж╝рзЗрж╕рзНржЯ рж╕ржорзНржкрзВрж░рзНржг рж╣ржУржпрж╝рж╛рж░ ржЖржЧрзЗ ржХрзЛржб рж░рж╛ржи ржХрж░рждрзЗ ржжрзЗржпрж╝ред ржПржЯрж┐ ржмрзНржпржмрж╣рж╛рж░ ржХрж░рзЗ ржЖржкржирж┐:

- **ржЕржерзЗржирзНржЯрж┐ржХрзЗрж╢ржи ржПржмржВ ржЕржерж░рж╛ржЗржЬрзЗрж╢ржи:** ржмрзНржпржмрж╣рж╛рж░ржХрж╛рж░рзАрж░ ржЖржЗржбрзЗржирзНржЯрж┐ржЯрж┐ ржпрж╛ржЪрж╛ржЗ ржХрж░рзЗ рж╕рзЗрж╢ржи ржХрзБржХрж┐ ржЪрзЗржХ ржХрж░рждрзЗ ржкрж╛рж░рзЗржиред
- **рж╕рж╛рж░рзНржнрж╛рж░-рж╕рж╛ржЗржб рж░рж┐ржбрж╛ржЗрж░рзЗржХрзНржЯ:** ржирж┐рж░рзНржжрж┐рж╖рзНржЯ рж╢рж░рзНрждрзЗрж░ ржнрж┐рждрзНрждрж┐рждрзЗ ржмрзНржпржмрж╣рж╛рж░ржХрж╛рж░рзАржХрзЗ рж░рж┐ржбрж╛ржЗрж░рзЗржХрзНржЯ ржХрж░рждрзЗ ржкрж╛рж░рзЗржи (ржпрзЗржоржи: рж▓рзЛржХрзЗрж▓, ржмрзНржпржмрж╣рж╛рж░ржХрж╛рж░рзАрж░ рж░рзЛрж▓)ред
- **ржкрж╛рже рж░рж┐рж░рж╛ржЗржЯ:** A/B ржЯрзЗрж╕рзНржЯрж┐ржВ, ржлрж┐ржЪрж╛рж░ рж░рзЛрж▓ржЖржЙржЯ, ржмрж╛ рж▓рзЗржЧрзЗрж╕рж┐ ржкрж╛рже рж╕рж╛ржкрзЛрж░рзНржЯ ржХрж░рждрзЗ ржкрж╛рж░рзЗржиред
- **ржмржЯ ржбрж┐ржЯрзЗржХрж╢ржи:** ржмржЯ ржЯрзНрж░рж╛ржлрж┐ржХ ржбрж┐ржЯрзЗржХрзНржЯ ржПржмржВ ржмрзНрж▓ржХ ржХрж░рждрзЗ ржкрж╛рж░рзЗржиред
- **рж▓ржЧрж┐ржВ ржПржмржВ ржЕрзНржпрж╛ржирж╛рж▓рж┐ржЯрж┐ржХрзНрж╕:** рж░рж┐ржХрзЛржпрж╝рзЗрж╕рзНржЯ ржбрзЗржЯрж╛ ржХрзНржпрж╛ржкржЪрж╛рж░ ржПржмржВ ржЕрзНржпрж╛ржирж╛рж▓рж╛ржЗржЬ ржХрж░рждрзЗ ржкрж╛рж░рзЗржиред

---

### рзи. Middleware ржХржиржнрзЗржирж╢ржи

Middleware рждрзИрж░рж┐ ржХрж░рждрзЗ `middleware.ts` ржмрж╛ `middleware.js` ржлрж╛ржЗрж▓ ржмрзНржпржмрж╣рж╛рж░ ржХрж░рзБржиред ржПржЯрж┐ ржкрзНрж░ржЬрзЗржХрзНржЯрзЗрж░ рж░рзБржЯрзЗ ржмрж╛ `src` ржбрж┐рж░рзЗржХрзНржЯрж░рж┐рждрзЗ рж░рж╛ржЦрзБржиред

**ржЙржжрж╛рж╣рж░ржг:**
```typescript
// middleware.ts
import { NextResponse } from 'next/server';
import type { NextRequest } from 'next/server';

export function middleware(request: NextRequest) {
  return NextResponse.redirect(new URL('/home', request.url));
}

export const config = {
  matcher: '/about/:path*',
};
```

---

### рзй. Middleware ржорзНржпрж╛ржЪрж┐ржВ ржкрж╛рже

Middleware ржкрзНрж░ржЬрзЗржХрзНржЯрзЗрж░ ржкрзНрж░рждрж┐ржЯрж┐ рж░рж╛ржЙржЯрзЗ рж░рж╛ржи рж╣рждрзЗ ржкрж╛рж░рзЗред рждржмрзЗ `matcher` ржмрзНржпржмрж╣рж╛рж░ ржХрж░рзЗ ржирж┐рж░рзНржжрж┐рж╖рзНржЯ рж░рж╛ржЙржЯрзЗ Middleware ржЪрж╛рж▓рж╛ржирзЛ ржпрж╛ржпрж╝ред

**ржЙржжрж╛рж╣рж░ржг:**
```typescript
// middleware.ts
export const config = {
  matcher: '/about/:path*',
};
```

**ржорж╛рж▓рзНржЯрж┐ржкрж▓ ржкрж╛рже ржорзНржпрж╛ржЪрж┐ржВ:**
```typescript
export const config = {
  matcher: ['/about/:path*', '/dashboard/:path*'],
};
```

**ржирзЗржЧрзЗржЯрж┐ржн рж▓рзБржХржЖрж╣рзЗржб:**
```typescript
export const config = {
  matcher: [
    '/((?!api|_next/static|_next/image|favicon.ico|sitemap.xml|robots.txt).*)',
  ],
};
```

---

### рзк. Middleware ржмрзНржпржмрж╣рж╛рж░рзЗрж░ ржЙржжрж╛рж╣рж░ржг

#### ржЙржжрж╛рж╣рж░ржг рзз: ржЕржерзЗржирзНржЯрж┐ржХрзЗрж╢ржи
```typescript
// middleware.ts
import { NextResponse } from 'next/server';
import type { NextRequest } from 'next/server';

export function middleware(request: NextRequest) {
  const token = request.cookies.get('token')?.value;

  if (!token) {
    return NextResponse.redirect(new URL('/login', request.url));
  }

  return NextResponse.next();
}

export const config = {
  matcher: '/dashboard/:path*',
};
```

#### ржЙржжрж╛рж╣рж░ржг рзи: ржкрж╛рже рж░рж┐рж░рж╛ржЗржЯ
```typescript
// middleware.ts
import { NextResponse } from 'next/server';
import type { NextRequest } from 'next/server';

export function middleware(request: NextRequest) {
  if (request.nextUrl.pathname.startsWith('/about')) {
    return NextResponse.rewrite(new URL('/about-2', request.url));
  }

  return NextResponse.next();
}
```

#### ржЙржжрж╛рж╣рж░ржг рзй: ржХрзБржХрж┐ржЬ ржорзНржпрж╛ржирж┐ржкрзБрж▓рзЗрж╢ржи
```typescript
// middleware.ts
import { NextResponse } from 'next/server';
import type { NextRequest } from 'next/server';

export function middleware(request: NextRequest) {
  const response = NextResponse.next();
  response.cookies.set('vercel', 'fast');
  return response;
}
```

#### ржЙржжрж╛рж╣рж░ржг рзк: рж╣рзЗржбрж╛рж░ рж╕рзЗржЯ ржХрж░рж╛
```typescript
// middleware.ts
import { NextResponse } from 'next/server';
import type { NextRequest } from 'next/server';

export function middleware(request: NextRequest) {
  const requestHeaders = new Headers(request.headers);
  requestHeaders.set('x-hello-from-middleware', 'hello');

  const response = NextResponse.next({
    request: {
      headers: requestHeaders,
    },
  });

  response.headers.set('x-hello-from-middleware2', 'hello');
  return response;
}
```

#### ржЙржжрж╛рж╣рж░ржг рзл: CORS рж╣рзЗржбрж╛рж░ рж╕рзЗржЯ ржХрж░рж╛
```typescript
// middleware.ts
import { NextRequest, NextResponse } from 'next/server';

const allowedOrigins = ['https://acme.com', 'https://my-app.org'];

const corsOptions = {
  'Access-Control-Allow-Methods': 'GET, POST, PUT, DELETE, OPTIONS',
  'Access-Control-Allow-Headers': 'Content-Type, Authorization',
};

export function middleware(request: NextRequest) {
  const origin = request.headers.get('origin') ?? '';
  const isAllowedOrigin = allowedOrigins.includes(origin);

  if (request.method === 'OPTIONS') {
    const preflightHeaders = {
      ...(isAllowedOrigin && { 'Access-Control-Allow-Origin': origin }),
      ...corsOptions,
    };
    return NextResponse.json({}, { headers: preflightHeaders });
  }

  const response = NextResponse.next();

  if (isAllowedOrigin) {
    response.headers.set('Access-Control-Allow-Origin', origin);
  }

  Object.entries(corsOptions).forEach(([key, value]) => {
    response.headers.set(key, value);
  });

  return response;
}

export const config = {
  matcher: '/api/:path*',
};
```

---

### рзл. Middleware-ржП рж░рзЗрж╕ржкржирзНрж╕ рждрзИрж░рж┐ ржХрж░рж╛

Middleware ржерзЗржХрзЗ рж╕рж░рж╛рж╕рж░рж┐ рж░рзЗрж╕ржкржирзНрж╕ рждрзИрж░рж┐ ржХрж░рж╛ ржпрж╛ржпрж╝ред

**ржЙржжрж╛рж╣рж░ржг:**
```typescript
// middleware.ts
import type { NextRequest } from 'next/server';
import { isAuthenticated } from '@lib/auth';

export function middleware(request: NextRequest) {
  if (!isAuthenticated(request)) {
    return Response.json(
      { success: false, message: 'authentication failed' },
      { status: 401 }
    );
  }
}
```

---

### рзм. Advanced Middleware Flags

Next.js v13.1 ржерзЗржХрзЗ ржжрзБржЯрж┐ ржЕрзНржпрж╛ржбржнрж╛ржирзНрж╕ржб ржлрзНрж▓рзНржпрж╛ржЧ ржпрзБржХрзНржд рж╣ржпрж╝рзЗржЫрзЗ:

- **skipTrailingSlashRedirect:** ржЯрзНрж░рзЗржЗрж▓рж┐ржВ рж╕рзНрж▓рзНржпрж╛рж╢ рж░рж┐ржбрж╛ржЗрж░рзЗржХрзНржЯ ржбрж┐рж╕рзЗржмрж▓ ржХрж░рзЗред
- **skipMiddlewareUrlNormalize:** URL ржирж░ржорж╛рж▓рж╛ржЗржЬрзЗрж╢ржи ржбрж┐рж╕рзЗржмрж▓ ржХрж░рзЗред

**ржЙржжрж╛рж╣рж░ржг:**
```javascript
// next.config.js
module.exports = {
  skipTrailingSlashRedirect: true,
};
```

```javascript
// middleware.js
const legacyPrefixes = ['/docs', '/blog'];

export default async function middleware(req) {
  const { pathname } = req.nextUrl;

  if (legacyPrefixes.some((prefix) => pathname.startsWith(prefix))) {
    return NextResponse.next();
  }

  if (!pathname.endsWith('/')) {
    return NextResponse.redirect(new URL(`${req.nextUrl.pathname}/`, req.nextUrl));
  }
}
```

---

### рзн. Middleware ржЯрзЗрж╕рзНржЯрж┐ржВ (ржПржХрзНрж╕ржкрзЗрж░рж┐ржорзЗржирзНржЯрж╛рж▓)

Next.js 15.1 ржерзЗржХрзЗ Middleware ржЗржЙржирж┐ржЯ ржЯрзЗрж╕рзНржЯрж┐ржВ рж╕рж╛ржкрзЛрж░рзНржЯ ржХрж░рзЗред

**ржЙржжрж╛рж╣рж░ржг:**
```typescript
import { unstable_doesMiddlewareMatch } from 'next/experimental/testing/server';

expect(
  unstable_doesMiddlewareMatch({
    config,
    nextConfig,
    url: '/test',
  })
).toEqual(false);
```

---

### рзо. Middleware рж░рж╛ржиржЯрж╛ржЗржо

Middleware ржбрж┐ржлрж▓рзНржЯржнрж╛ржмрзЗ Edge рж░рж╛ржиржЯрж╛ржЗржо ржмрзНржпржмрж╣рж╛рж░ ржХрж░рзЗред Next.js v15.2 (ржХрзНржпрж╛ржирж╛рж░рж┐) ржерзЗржХрзЗ Node.js рж░рж╛ржиржЯрж╛ржЗржо рж╕рж╛ржкрзЛрж░рзНржЯ ржХрж░рж╛ рж╣ржпрж╝ (ржПржХрзНрж╕ржкрзЗрж░рж┐ржорзЗржирзНржЯрж╛рж▓)ред

**ржХржиржлрж┐ржЧрж╛рж░рзЗрж╢ржи:**
```typescript
// next.config.ts
import type { NextConfig } from 'next';

const nextConfig: NextConfig = {
  experimental: {
    nodeMiddleware: true,
  },
};

export default nextConfig;
```

```typescript
// middleware.ts
export const config = {
  runtime: 'nodejs',
};
```

---

### рж╢рзЗрж╖ ржХржерж╛

Middleware Next.js-ржПрж░ ржПржХржЯрж┐ рж╢ржХрзНрждрж┐рж╢рж╛рж▓рзА ржлрж┐ржЪрж╛рж░ ржпрж╛ ржЖржкржирж╛ржХрзЗ рж░рж┐ржХрзЛржпрж╝рзЗрж╕рзНржЯ ржПржмржВ рж░рзЗрж╕ржкржирзНрж╕ ржорзНржпрж╛ржирж┐ржкрзБрж▓рзЗржЯ ржХрж░рждрзЗ ржжрзЗржпрж╝ред ржПржЗ ржЯрж┐ржЙржЯрзЛрж░рж┐ржпрж╝рж╛рж▓рзЗ ржЖржорж░рж╛ Middleware-ржПрж░ ржмрж┐ржнрж┐ржирзНржи ржжрж┐ржХ рж╢рж┐ржЦрзЗржЫрж┐, ржпрзЗржоржи ржЕржерзЗржирзНржЯрж┐ржХрзЗрж╢ржи, ржкрж╛рже рж░рж┐рж░рж╛ржЗржЯ, ржХрзБржХрж┐ржЬ ржорзНржпрж╛ржирж┐ржкрзБрж▓рзЗрж╢ржи, CORS рж╣рзЗржбрж╛рж░ рж╕рзЗржЯ ржХрж░рж╛, ржПржмржВ ржЯрзЗрж╕рзНржЯрж┐ржВред

ржПржЗ ржлрж┐ржЪрж╛рж░ржЯрж┐ ржмрзНржпржмрж╣рж╛рж░ ржХрж░рзЗ ржЖржкржирж┐ ржЖрж░ржУ ржжржХрзНрж╖ ржПржмржВ рж╕рзБрж░ржХрзНрж╖рж┐ржд ржЕрзНржпрж╛ржкрзНрж▓рж┐ржХрзЗрж╢ржи рждрзИрж░рж┐ ржХрж░рждрзЗ ржкрж╛рж░ржмрзЗржиред

Happy Coding! ЁЯЪА
</details>
<details> 
 <summary> Internationalization </summary>
 ### Next.js-ржП ржЗржирзНржЯрж╛рж░ржирзНржпрж╛рж╢ржирж╛рж▓рж╛ржЗржЬрзЗрж╢ржи (i18n): рж╕ржорзНржкрзВрж░рзНржг ржЯрж┐ржЙржЯрзЛрж░рж┐ржпрж╝рж╛рж▓ (ржмрж╛ржВрж▓рж╛ржпрж╝)

ржЗржирзНржЯрж╛рж░ржирзНржпрж╛рж╢ржирж╛рж▓рж╛ржЗржЬрзЗрж╢ржи (i18n) рж╣рж▓ ржЖржкржирж╛рж░ ржУржпрж╝рзЗржмрж╕рж╛ржЗржЯржХрзЗ ржПржХрж╛ржзрж┐ржХ ржнрж╛рж╖рж╛ ржПржмржВ рж▓рзЛржХрзЗрж▓ рж╕рж╛ржкрзЛрж░рзНржЯ ржХрж░рж╛рж░ ржкрзНрж░ржХрзНрж░рж┐ржпрж╝рж╛ред Next.js-ржП ржЖржкржирж┐ рж░рж╛ржЙржЯрж┐ржВ ржПржмржВ ржХржирзНржЯрзЗржирзНржЯ рж░рзЗржирзНржбрж╛рж░рж┐ржВ ржХржиржлрж┐ржЧрж╛рж░ ржХрж░рзЗ рж╕рж╣ржЬрзЗржЗ ржорж╛рж▓рзНржЯрж┐-рж▓рзНржпрж╛ржЩрзНржЧрзБржпрж╝рзЗржЬ рж╕рж╛ржкрзЛрж░рзНржЯ ржпрзЛржЧ ржХрж░рждрзЗ ржкрж╛рж░рзЗржиред ржПржЗ ржЯрж┐ржЙржЯрзЛрж░рж┐ржпрж╝рж╛рж▓рзЗ ржЖржорж░рж╛ Next.js-ржП ржЗржирзНржЯрж╛рж░ржирзНржпрж╛рж╢ржирж╛рж▓рж╛ржЗржЬрзЗрж╢ржи ржмрж╛рж╕рзНрждржмрж╛ржпрж╝ржирзЗрж░ ржзрж╛ржкржЧрзБрж▓рж┐ рж╢рж┐ржЦржмред

---

### рзз. ржЗржирзНржЯрж╛рж░ржирзНржпрж╛рж╢ржирж╛рж▓рж╛ржЗржЬрзЗрж╢ржи ржХрзА?

ржЗржирзНржЯрж╛рж░ржирзНржпрж╛рж╢ржирж╛рж▓рж╛ржЗржЬрзЗрж╢ржи рж╣рж▓ ржЖржкржирж╛рж░ ржЕрзНржпрж╛ржкрзНрж▓рж┐ржХрзЗрж╢ржиржХрзЗ ржмрж┐ржнрж┐ржирзНржи ржнрж╛рж╖рж╛ ржПржмржВ рж▓рзЛржХрзЗрж▓ рж╕рж╛ржкрзЛрж░рзНржЯ ржХрж░рж╛рж░ ржкрзНрж░ржХрзНрж░рж┐ржпрж╝рж╛ред ржПржЯрж┐ ржжрзБржЯрж┐ ржкрзНрж░ржзрж╛ржи ржЕржВрж╢ ржирж┐ржпрж╝рзЗ ржЧржарж┐ржд:

1. **рж▓рзЛржХрзЗрж▓:** ржнрж╛рж╖рж╛ ржПржмржВ ржлрж░ржорзНржпрж╛ржЯрж┐ржВ ржкржЫржирзНржжрзЗрж░ ржЬржирзНржп ржПржХржЯрж┐ ржЖржЗржбрзЗржирзНржЯрж┐ржлрж╛ржпрж╝рж╛рж░ред ржпрзЗржоржи: `en-US` (ржЗржВрж░рзЗржЬрж┐, ржпрзБржХрзНрждрж░рж╛рж╖рзНржЯрзНрж░), `nl-NL` (ржбрж╛ржЪ, ржирзЗржжрж╛рж░рж▓рзНржпрж╛ржирзНржбрж╕)ред
2. **рж▓рзЛржХрж╛рж▓рж╛ржЗржЬрзЗрж╢ржи:** ржмрзНржпржмрж╣рж╛рж░ржХрж╛рж░рзАрж░ ржнрж╛рж╖рж╛ ржкржЫржирзНржж ржЕржирзБржпрж╛ржпрж╝рзА ржХржирзНржЯрзЗржирзНржЯ ржкрзНрж░ржжрж░рзНрж╢ржи ржХрж░рж╛ред

---

### рзи. рж░рж╛ржЙржЯрж┐ржВ ржХржиржлрж┐ржЧрж╛рж░рзЗрж╢ржи

Next.js-ржП ржЗржирзНржЯрж╛рж░ржирзНржпрж╛рж╢ржирж╛рж▓рж╛ржЗржЬржб рж░рж╛ржЙржЯрж┐ржВ ржжрзБржЯрж┐ ржЙржкрж╛ржпрж╝рзЗ ржХрж░рж╛ ржпрж╛ржпрж╝:

1. **рж╕рж╛ржм-ржкрж╛рже:** ржпрзЗржоржи `/en/products` ржмрж╛ `/nl/products`ред
2. **ржбрзЛржорзЗржЗржи:** ржпрзЗржоржи `my-site.fr/products` ржмрж╛ `my-site.nl/products`ред

**ржорж┐ржбрж▓ржУржпрж╝рзНржпрж╛рж░ ржмрзНржпржмрж╣рж╛рж░ ржХрж░рзЗ рж▓рзЛржХрзЗрж▓ рж░рж┐ржбрж╛ржЗрж░рзЗржХрзНржЯ:**

```typescript
// middleware.ts
import { NextResponse } from 'next/server';

const locales = ['en', 'nl']; // рж╕ржорж░рзНржерж┐ржд рж▓рзЛржХрзЗрж▓
const defaultLocale = 'en'; // ржбрж┐ржлрж▓рзНржЯ рж▓рзЛржХрзЗрж▓

export function middleware(request: NextRequest) {
  const { pathname } = request.nextUrl;

  // ржЪрзЗржХ ржХрж░рзБржи ржкрж╛ржержирзЗржорзЗ ржХрзЛржирзЛ рж▓рзЛржХрзЗрж▓ ржЖржЫрзЗ ржХрж┐ржирж╛
  const pathnameHasLocale = locales.some(
    (locale) => pathname.startsWith(`/${locale}/`) || pathname === `/${locale}`
  );

  if (pathnameHasLocale) return;

  // рж▓рзЛржХрзЗрж▓ рж░рж┐ржбрж╛ржЗрж░рзЗржХрзНржЯ ржХрж░рзБржи
  const locale = getLocale(request); // ржмрзНржпржмрж╣рж╛рж░ржХрж╛рж░рзАрж░ ржкржЫржирзНржж ржЕржирзБржпрж╛ржпрж╝рзА рж▓рзЛржХрзЗрж▓ ржирж┐рж░рзНржмрж╛ржЪржи ржХрж░рзБржи
  request.nextUrl.pathname = `/${locale}${pathname}`;
  return NextResponse.redirect(request.nextUrl);
}

export const config = {
  matcher: [
    // рж╕ржм ржЗржирзНржЯрж╛рж░ржирж╛рж▓ ржкрж╛рже (_next) рж╕рзНржХрж┐ржк ржХрж░рзБржи
    '/((?!_next).*)',
  ],
};
```

**рж▓рзЛржХрзЗрж▓ ржирж┐рж░рзНржмрж╛ржЪржи ржлрж╛ржВрж╢ржи:**

```typescript
import { match } from '@formatjs/intl-localematcher';
import Negotiator from 'negotiator';

function getLocale(request: NextRequest): string {
  const headers = { 'accept-language': request.headers.get('accept-language') || 'en' };
  const languages = new Negotiator({ headers }).languages();
  return match(languages, locales, defaultLocale);
}
```

---

### рзй. рж▓рзЛржХрж╛рж▓рж╛ржЗржЬрзЗрж╢ржи (ржХржирзНржЯрзЗржирзНржЯ ржЯрзНрж░рж╛ржирзНрж╕рж▓рзЗрж╢ржи)

рж▓рзЛржХрж╛рж▓рж╛ржЗржЬрзЗрж╢ржи рж╣рж▓ ржмрзНржпржмрж╣рж╛рж░ржХрж╛рж░рзАрж░ ржнрж╛рж╖рж╛ ржкржЫржирзНржж ржЕржирзБржпрж╛ржпрж╝рзА ржХржирзНржЯрзЗржирзНржЯ ржкрзНрж░ржжрж░рзНрж╢ржи ржХрж░рж╛ред ржПржЯрж┐ ржХрж░рж╛рж░ ржЬржирзНржп ржЖржорж░рж╛ ржбрж┐ржХрж╢ржирж╛рж░рж┐ (рж╢ржмрзНржжржХрзЛрж╖) ржмрзНржпржмрж╣рж╛рж░ ржХрж░ржмред

**ржбрж┐ржХрж╢ржирж╛рж░рж┐ ржлрж╛ржЗрж▓:**

```json
// dictionaries/en.json
{
  "products": {
    "cart": "Add to Cart"
  }
}
```

```json
// dictionaries/nl.json
{
  "products": {
    "cart": "Toevoegen aan Winkelwagen"
  }
}
```

**ржбрж┐ржХрж╢ржирж╛рж░рж┐ рж▓рзЛржб ржХрж░рж╛рж░ ржлрж╛ржВрж╢ржи:**

```typescript
// app/[lang]/dictionaries.ts
import 'server-only';

const dictionaries = {
  en: () => import('./dictionaries/en.json').then((module) => module.default),
  nl: () => import('./dictionaries/nl.json').then((module) => module.default),
};

export const getDictionary = async (locale: 'en' | 'nl') => dictionaries[locale]();
```

**ржкрзГрж╖рзНржарж╛ржпрж╝ ржбрж┐ржХрж╢ржирж╛рж░рж┐ ржмрзНржпржмрж╣рж╛рж░:**

```typescript
// app/[lang]/page.tsx
import { getDictionary } from './dictionaries';

export default async function Page({
  params,
}: {
  params: { lang: 'en' | 'nl' };
}) {
  const dict = await getDictionary(params.lang); // рж▓рзЛржХрзЗрж▓ ржЕржирзБржпрж╛ржпрж╝рзА ржбрж┐ржХрж╢ржирж╛рж░рж┐ рж▓рзЛржб ржХрж░рзБржи
  return <button>{dict.products.cart}</button>; // ржЯрзНрж░рж╛ржирзНрж╕рж▓рзЗржЯрзЗржб ржХржирзНржЯрзЗржирзНржЯ ржкрзНрж░ржжрж░рзНрж╢ржи ржХрж░рзБржи
}
```

---

### рзк. рж╕рзНржЯрзНржпрж╛ржЯрж┐ржХ ржЬрзЗржирж╛рж░рзЗрж╢ржи

рж╕рзНржЯрзНржпрж╛ржЯрж┐ржХ рж░рж╛ржЙржЯ ржЬрзЗржирж╛рж░рзЗржЯ ржХрж░рж╛рж░ ржЬржирзНржп `generateStaticParams` ржмрзНржпржмрж╣рж╛рж░ ржХрж░рзБржиред ржПржЯрж┐ рж▓рзЛржХрзЗрж▓ ржЕржирзБржпрж╛ржпрж╝рзА рж╕рзНржЯрзНржпрж╛ржЯрж┐ржХ ржкрж╛рже рждрзИрж░рж┐ ржХрж░рзЗред

**ржЙржжрж╛рж╣рж░ржг:**

```typescript
// app/[lang]/layout.tsx
export async function generateStaticParams() {
  return [{ lang: 'en' }, { lang: 'nl' }]; // рж╕ржорж░рзНржерж┐ржд рж▓рзЛржХрзЗрж▓ржЧрзБрж▓рж┐рж░ ржЬржирзНржп рж╕рзНржЯрзНржпрж╛ржЯрж┐ржХ ржкрж╛рже рждрзИрж░рж┐ ржХрж░рзБржи
}

export default function RootLayout({
  children,
  params,
}: {
  children: React.ReactNode;
  params: { lang: 'en' | 'nl' };
}) {
  return (
    <html lang={params.lang}>
      <body>{children}</body>
    </html>
  );
}
```

---

### рзл. рж▓рзЛржХрзЗрж▓ рж╕рзНржпрзБржЗржЪрж┐ржВ

рж▓рзЛржХрзЗрж▓ рж╕рзНржпрзБржЗржЪ ржХрж░рж╛рж░ ржЬржирзНржп ржПржХржЯрж┐ ржнрж╛рж╖рж╛ рж╕рзНржпрзБржЗржЪрж╛рж░ ржХржорзНржкрзЛржирзЗржирзНржЯ рждрзИрж░рж┐ ржХрж░рзБржиред

**ржЙржжрж╛рж╣рж░ржг:**

```typescript
// components/LocaleSwitcher.tsx
import Link from 'next/link';
import { useRouter } from 'next/router';

export default function LocaleSwitcher() {
  const router = useRouter();
  const { locales, locale: activeLocale } = router;

  return (
    <div>
      {locales?.map((locale) => (
        <Link key={locale} href={router.asPath} locale={locale}>
          <a style={{ fontWeight: locale === activeLocale ? 'bold' : 'normal' }}>
            {locale}
          </a>
        </Link>
      ))}
    </div>
  );
}
```

---

### рзм. рж╕ржорзНржкрзВрж░рзНржг ржЙржжрж╛рж╣рж░ржг

**ржлрж╛ржЗрж▓ рж╕рзНржЯрзНрж░рж╛ржХржЪрж╛рж░:**
```
app/
тФЬтФАтФА [lang]/
тФВ   тФЬтФАтФА dictionaries/
тФВ   тФВ   тФЬтФАтФА en.json
тФВ   тФВ   тФЬтФАтФА nl.json
тФВ   тФЬтФАтФА layout.tsx
тФВ   тФЬтФАтФА page.tsx
тФЬтФАтФА middleware.ts
```

**middleware.ts:**
```typescript
import { NextResponse, type NextRequest } from 'next/server';
import { match } from '@formatjs/intl-localematcher';
import Negotiator from 'negotiator';

const locales = ['en', 'nl'];
const defaultLocale = 'en';

function getLocale(request: NextRequest): string {
  const headers = { 'accept-language': request.headers.get('accept-language') || 'en' };
  const languages = new Negotiator({ headers }).languages();
  return match(languages, locales, defaultLocale);
}

export function middleware(request: NextRequest) {
  const { pathname } = request.nextUrl;
  const pathnameHasLocale = locales.some(
    (locale) => pathname.startsWith(`/${locale}/`) || pathname === `/${locale}`
  );

  if (pathnameHasLocale) return;

  const locale = getLocale(request);
  request.nextUrl.pathname = `/${locale}${pathname}`;
  return NextResponse.redirect(request.nextUrl);
}

export const config = {
  matcher: ['/((?!_next).*)'],
};
```

**app/[lang]/layout.tsx:**
```typescript
export async function generateStaticParams() {
  return [{ lang: 'en' }, { lang: 'nl' }];
}

export default function RootLayout({
  children,
  params,
}: {
  children: React.ReactNode;
  params: { lang: 'en' | 'nl' };
}) {
  return (
    <html lang={params.lang}>
      <body>{children}</body>
    </html>
  );
}
```

**app/[lang]/page.tsx:**
```typescript
import { getDictionary } from './dictionaries';

export default async function Page({
  params,
}: {
  params: { lang: 'en' | 'nl' };
}) {
  const dict = await getDictionary(params.lang);
  return <button>{dict.products.cart}</button>;
}
```

---

### рж╢рзЗрж╖ ржХржерж╛

Next.js-ржП ржЗржирзНржЯрж╛рж░ржирзНржпрж╛рж╢ржирж╛рж▓рж╛ржЗржЬрзЗрж╢ржи ржмрж╛рж╕рзНрждржмрж╛ржпрж╝ржи ржХрж░рж╛ ржЦрзБржмржЗ рж╕рж╣ржЬ ржПржмржВ рж╢ржХрзНрждрж┐рж╢рж╛рж▓рзАред ржПржЗ ржЯрж┐ржЙржЯрзЛрж░рж┐ржпрж╝рж╛рж▓рзЗ ржЖржорж░рж╛ рж▓рзЛржХрзЗрж▓ рж░рж┐ржбрж╛ржЗрж░рзЗржХрзНржЯ, ржХржирзНржЯрзЗржирзНржЯ ржЯрзНрж░рж╛ржирзНрж╕рж▓рзЗрж╢ржи, рж╕рзНржЯрзНржпрж╛ржЯрж┐ржХ ржЬрзЗржирж╛рж░рзЗрж╢ржи, ржПржмржВ рж▓рзЛржХрзЗрж▓ рж╕рзНржпрзБржЗржЪрж┐ржВ рж╢рж┐ржЦрзЗржЫрж┐ред ржПржЗ ржлрж┐ржЪрж╛рж░ржЧрзБрж▓рж┐ ржмрзНржпржмрж╣рж╛рж░ ржХрж░рзЗ ржЖржкржирж┐ ржЖржкржирж╛рж░ ржУржпрж╝рзЗржмрж╕рж╛ржЗржЯржХрзЗ ржЧрзНрж▓рзЛржмрж╛рж▓ ржЕржбрж┐ржпрж╝рзЗржирзНрж╕рзЗрж░ ржЬржирзНржп ржкрзНрж░рж╕рзНрждрзБржд ржХрж░рждрзЗ ржкрж╛рж░рзЗржиред

Happy Coding! ЁЯЪА
</details>
<details> 
 <summary> </summary>
</details>
<details> 
 <summary> </summary>
</details>
<details> 
 <summary> </summary>
</details>
<details> 
 <summary> </summary>
</details>
<details> 
 <summary> </summary>
</details>


